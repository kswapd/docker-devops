{"version":3,"sources":["webpack:///src/components/processing/env.vue","webpack:///./src/components/processing/env.vue?3bab","webpack:///./src/components/processing/env.vue"],"names":["env","data","currentPage","pageSize","visible","envForm","LEADER","envFormRules","ENVID","required","message","trigger","ZK","APP_GROUP","centerOptions","key","label","computed","extends_default","Object","vuex_esm","processingData","state","processing","methods","handleAdd","this","close","$refs","clearValidate","resetFields","confirm","vm","validate","valid","processingAdd","callback","getProcessingEnv","$message","success","callbackError","error","deleteBatchEnv","props","params","$confirm","confirmButtonText","$t","cancelButtonText","type","center","then","processingDelete","catch","handleCurrentChange","val","created","processing_env","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","$route","meta","title","attrs","size","icon","on","click","$event","list","stripe","align","prop","width","scopedSlots","_u","fn","_f","row","fixed","background","current-page","page-size","layout","total","current-change","update:currentPage","update:visible","ref","model","rules","label-width","value","$$v","$set","expression","placeholder","_l","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/51.21053d1386639c1bbe00.js","sourcesContent":["<template>\n  <div class=\"batch-main\">\n    <div class=\"button-group\">\n      <span class=\"route-name\">{{$route.meta.title}}</span>\n      <el-button @click=\"handleAdd()\" type=\"warning\" size=\"small\" icon=\"el-icon-plus\">{{$t('common.add')}}</el-button>\n    </div>\n    <el-table :data=\"processingData.list\" stripe>\n      <el-table-column align=\"center\" prop=\"ENVID\" label=\"环境ID\" width=\"150\">\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"中心标识\" width=\"180\">\n        <template slot-scope=\"props\">\n          {{props.row.LEADER | batchEnvCenter}}\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"ZK\" align=\"center\" label=\"zk地址\">\n      </el-table-column>\n      <el-table-column prop=\"APP_GROUP\" align=\"center\" label=\"应用组\" width=\"100\">\n      </el-table-column>\n      <el-table-column :label=\"$t('common.operation')\" align=\"center\" fixed=\"right\" width=\"140\">\n        <template slot-scope=\"props\">\n          <el-button type=\"text\" class=\"btn-text-red\" size=\"mini\" icon=\"el-icon-delete\" @click=\"deleteBatchEnv(props.row)\">{{ $t('common.delete')}}\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <!-- 分页器 -->\n    <el-pagination\n      background\n      @current-change=\"handleCurrentChange\"\n      :current-page.sync=\"currentPage\"\n      :page-size=\"pageSize\"\n      layout=\"total, prev, pager, next, jumper\"\n      :total=\"processingData.total\">\n    </el-pagination>\n    <el-dialog\n      title=\"添加批处理环境\"\n      :visible.sync=\"visible\"\n      width=\"30%\"\n      @close=\"close\">\n      <el-form :model=\"envForm\" :rules=\"envFormRules\" ref=\"envForm\" label-width=\"100px\">\n        <el-form-item label=\"环境ID：\" prop=\"ENVID\">\n          <el-input v-model=\"envForm.ENVID\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"中心标识：\">\n          <el-select v-model=\"envForm.LEADER\" :placeholder=\"$t('common.select')\">\n            <el-option v-for=\"val in centerOptions\" :key=\"val.key\" :label=\"val.label\" :value=\"val.key\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"zk地址：\" prop=\"ZK\">\n          <el-input v-model=\"envForm.ZK\" placeholder=\"zookeeper://0.0.0.0:2181\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"应用组：\" prop=\"APP_GROUP\">\n          <el-input v-model=\"envForm.APP_GROUP\"></el-input>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"confirm\" size=\"small\">{{ $t('common.ok') }}</el-button>\n        <el-button @click=\"close\" size=\"small\">{{ $t('common.cancel') }}</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'vuex'\n\nexport default {\n  data() {\n    return {\n      currentPage: 1,\n      pageSize: 10,\n      visible: false,\n      envForm: {\n        LEADER: 'A'\n      },\n      envFormRules: {\n        ENVID: [\n          { required: true, message: '请输入环境ID', trigger: 'blur' }\n        ],\n        ZK: [\n          { required: true, message: '请输入zk地址', trigger: 'blur' }\n        ],\n        APP_GROUP: [\n          { required: true, message: '请输入应用组', trigger: 'blur' }\n        ]\n      },\n      centerOptions: [\n        {\n          key: 'A',\n          label: '上丁中心'\n        },\n        {\n          key: 'B',\n          label: '水土中心'\n        }\n      ]\n    }\n  },\n  computed: {\n    ...mapState({\n      processingData: state => state.processing.processingData\n    })\n  },\n  methods: {\n    ...mapActions('processing', ['getProcessingEnv', 'processingAdd', 'processingDelete']),\n    handleAdd() {\n      this.visible = true\n    },\n    close() {\n      this.$refs['envForm'].clearValidate()\n      this.$refs['envForm'].resetFields()\n      this.visible = false\n    },\n    confirm() {\n      const vm = this\n      vm.$refs['envForm'].validate(valid => {\n        if (valid) {\n          vm.processingAdd({\n            data: vm.envForm,\n            callback: () => {\n              vm.getProcessingEnv()\n              vm.close()\n              vm.$message.success('添加成功')\n            },\n            callbackError: error => {\n              vm.$message.error((error && error.data && error.data.message) || '添加失败')\n            }\n          })\n        }\n      })\n    },\n    deleteBatchEnv(props) {\n      const vm = this\n      const params = {\n        ENVID: props.ENVID\n      }\n      vm.$confirm(`确认删除环境ID：${props.ENVID}`, '删除', {\n        confirmButtonText: vm.$t('common.ok'),\n        cancelButtonText: vm.$t('common.cancel'),\n        type: 'warning',\n        center: true\n      }).then(() => {\n        vm.processingDelete({\n          data: params,\n          callback: () => {\n            vm.getProcessingEnv()\n            vm.$message.success('删除成功')\n          },\n          callbackError: error => {\n            vm.$message.error((error && error.data && error.data.message) || '删除失败')\n          }\n        })\n      }).catch(() => {})\n    },\n    handleCurrentChange(val) {\n      this.currentPage = val\n    }\n  },\n  created() {\n    this.getProcessingEnv()\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/processing/env.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"batch-main\"},[_c('div',{staticClass:\"button-group\"},[_c('span',{staticClass:\"route-name\"},[_vm._v(_vm._s(_vm.$route.meta.title))]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"warning\",\"size\":\"small\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){_vm.handleAdd()}}},[_vm._v(_vm._s(_vm.$t('common.add')))])],1),_vm._v(\" \"),_c('el-table',{attrs:{\"data\":_vm.processingData.list,\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"ENVID\",\"label\":\"环境ID\",\"width\":\"150\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"中心标识\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_vm._v(\"\\n        \"+_vm._s(_vm._f(\"batchEnvCenter\")(props.row.LEADER))+\"\\n      \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ZK\",\"align\":\"center\",\"label\":\"zk地址\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"APP_GROUP\",\"align\":\"center\",\"label\":\"应用组\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":_vm.$t('common.operation'),\"align\":\"center\",\"fixed\":\"right\",\"width\":\"140\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('el-button',{staticClass:\"btn-text-red\",attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){_vm.deleteBatchEnv(props.row)}}},[_vm._v(_vm._s(_vm.$t('common.delete'))+\"\\n        \")])]}}])})],1),_vm._v(\" \"),_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"layout\":\"total, prev, pager, next, jumper\",\"total\":_vm.processingData.total},on:{\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.currentPage=$event}}}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"添加批处理环境\",\"visible\":_vm.visible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.visible=$event},\"close\":_vm.close}},[_c('el-form',{ref:\"envForm\",attrs:{\"model\":_vm.envForm,\"rules\":_vm.envFormRules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"环境ID：\",\"prop\":\"ENVID\"}},[_c('el-input',{model:{value:(_vm.envForm.ENVID),callback:function ($$v) {_vm.$set(_vm.envForm, \"ENVID\", $$v)},expression:\"envForm.ENVID\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"中心标识：\"}},[_c('el-select',{attrs:{\"placeholder\":_vm.$t('common.select')},model:{value:(_vm.envForm.LEADER),callback:function ($$v) {_vm.$set(_vm.envForm, \"LEADER\", $$v)},expression:\"envForm.LEADER\"}},_vm._l((_vm.centerOptions),function(val){return _c('el-option',{key:val.key,attrs:{\"label\":val.label,\"value\":val.key}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"zk地址：\",\"prop\":\"ZK\"}},[_c('el-input',{attrs:{\"placeholder\":\"zookeeper://0.0.0.0:2181\"},model:{value:(_vm.envForm.ZK),callback:function ($$v) {_vm.$set(_vm.envForm, \"ZK\", $$v)},expression:\"envForm.ZK\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"应用组：\",\"prop\":\"APP_GROUP\"}},[_c('el-input',{model:{value:(_vm.envForm.APP_GROUP),callback:function ($$v) {_vm.$set(_vm.envForm, \"APP_GROUP\", $$v)},expression:\"envForm.APP_GROUP\"}})],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.confirm}},[_vm._v(_vm._s(_vm.$t('common.ok')))]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.close}},[_vm._v(_vm._s(_vm.$t('common.cancel')))])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b2cad640\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/processing/env.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./env.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./env.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b2cad640\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./env.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/processing/env.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}