{"version":3,"sources":["webpack:///./src/utils/skew.js","webpack:///./src/utils/spanConverter.js","webpack:///./node_modules/core-js/library/fn/object/define-property.js","webpack:///./node_modules/babel-runtime/core-js/object/define-property.js","webpack:///./src/utils/traceConstants.js","webpack:///./node_modules/babel-runtime/helpers/toConsumableArray.js","webpack:///./node_modules/clipboard/dist/clipboard.js","webpack:///./node_modules/babel-runtime/helpers/classCallCheck.js","webpack:///./src/utils/skill.js","webpack:///./src/utils/traceToMustache.js","webpack:///./src/utils/traceSummary.js","webpack:///./node_modules/core-js/library/modules/es6.object.define-property.js","webpack:///./node_modules/babel-runtime/helpers/createClass.js"],"names":["Node","value","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_classCallCheck___default","this","_parent","undefined","_value","_children","_missingRootDummyNode","newValue","Error","newParent","child","toString","_setParent","push","result","queue","length","current","shift","children","i","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default","TreeBuilder","params","traceId","_params$debug","debug","_mergeFunction","existing","update","_traceId","_debug","_rootId","_rootNode","_entries","_idToNode","_idToParent","parentId","id","console","log","entry","prefix","node","previous","setValue","_this","forEach","n","_processNode","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default","parent","addChild","ClockSkew","endpoint","skew","_endpoint","_skew","ipsMatch","a","b","ipv6","ipv4","adjustTimestamps","span","spanTimestamp","timestamp","annotations","annotationTimestamp","annotationLength","slice","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default","binaryAnnotations","key","oneWaySkew","serverRecv","clientSend","latency","getClockSkew","serverSend","clientRecv","oneWay","server","client","clientDuration","serverDuration","isSingleHostSpan","annotation","binaryAnnotation","type","__webpack_exports__","correctForClockSkew","spans","arguments","rootSpanId","treeBuilder","dataError","next","addNode","tree","build","adjust","skewFromParent","traverse","toV1Endpoint","res","serviceName","port","toV1Annotation","ann","normalizeTraceId","padStart","maybePushAnnotation","findIndex","maybePushBinaryAnnotation","merge","left","right","leftParent","rightParent","name","leftClientSpan","rightClientSpan","rightServerSpan","sort","duration","Math","max","applyTimestampAndDuration","guess","rootServerRecv","guessTimestamp","first","last","compare","mergeById","spanIdToSpans","s","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default","spansToMerge","clean","SPAN_V1","convert","v2Span","shared","startTs","endTs","msTs","wsTs","wrTs","mrTs","begin","end","kind","addr","remoteEndpoint","beginAnnotation","endAnnotation","ep","localEndpoint","annotationCount","keys","tags","map","writeLocalComponent","hasRemoteEndpoint","address","convertV1","v1Left","v1Right","v1Span","v1Spans","__webpack_require__","$Object","Object","module","exports","it","desc","defineProperty","default","__esModule","d","ConstantNames","CORE_CLIENT","CORE_SERVER","CORE_WIRE","CORE_LOCAL","Constants","CLIENT_SEND","CLIENT_SEND_FRAGMENT","CLIENT_RECEIVE","CLIENT_RECEIVE_FRAGMENT","MESSAGE_SEND","MESSAGE_RECEIVE","SERVER_SEND","SERVER_SEND_FRAGMENT","SERVER_RECEIVE","SERVER_RECEIVE_FRAGMENT","SERVER_ADDR","CLIENT_ADDR","MESSAGE_ADDR","CORE_MESSAGE","ERROR","LOCAL_COMPONENT","CORE_ADDRESS","CORE_ANNOTATIONS","obj","_from","_from2","arr","Array","isArray","arr2","factory","modules","installedModules","moduleId","l","call","m","c","getter","o","configurable","enumerable","get","object","property","prototype","hasOwnProperty","p","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","_select","_select2","_typeof","Symbol","iterator","constructor","_createClass","defineProperties","target","props","descriptor","writable","Constructor","protoProps","staticProps","ClipboardAction","options","instance","TypeError","_classCallCheck","resolveOptions","initSelection","action","container","emitter","text","trigger","selectedText","selectFake","selectTarget","isRTL","document","documentElement","getAttribute","removeFake","fakeHandlerCallback","fakeHandler","addEventListener","fakeElem","createElement","style","fontSize","border","padding","margin","position","yPosition","window","pageYOffset","scrollTop","top","setAttribute","appendChild","copyText","removeEventListener","removeChild","succeeded","execCommand","err","handleResult","emit","clearSelection","bind","focus","getSelection","removeAllRanges","set","_action","nodeType","hasAttribute","_target","apply","is","delegate","callback","string","fn","destroy","listenNode","nodeList","listenNodeList","selector","body","listenSelector","E","on","ctx","e","once","self","listener","off","_","data","evtArr","len","evts","liveEvents","_clipboardAction","_tinyEmitter","_goodListener","_clipboardAction2","_interopRequireDefault","_tinyEmitter2","_goodListener2","Clipboard","_Emitter","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","listenClick","subClass","superClass","create","setPrototypeOf","_inherits","defaultAction","defaultTarget","defaultText","_this2","onClick","delegateTarget","currentTarget","clipboardAction","getAttributeValue","querySelector","actions","support","queryCommandSupported","suffix","element","attribute","DOCUMENT_NODE_TYPE","Element","matches","proto","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","parentNode","closest","_delegate","useCapture","listenerFn","elements","querySelectorAll","HTMLElement","String","nodeName","isReadOnly","select","setSelectionRange","removeAttribute","selection","range","createRange","selectNodeContents","addRange","dataRange","skill","arrayConcat","array","newArray","arrayBox","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default","single","index","Number","time","trace","parameter","traceTimestamp","groupByParentId","__WEBPACK_IMPORTED_MODULE_4_lodash___default","groupBy","getRootSpans","flatMap","rootSpan","childrenToList","createSpanTreeEntry","spanStartTs","errorType","filter","__WEBPACK_IMPORTED_MODULE_6__traceConstants__","indexOf","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default","formatEndpoint","localComponentAnnotation","find","spanId","spanName","serviceNames","__WEBPACK_IMPORTED_MODULE_5__traceSummary__","join","durationStr","isCore","valueName","relativeTime","width","query","detail","isTraceStatus","item","some","ck","findTrace","logsUrl","summary","groupedTimestamps","serviceDurations","services","serviceCounts","sortBy","spanDepths","treeDepths","startDepth","initial","reduce","prevMap","childDepths","newCombined","firstWithoutParent","idToSpanMap","mapValues","_ref","_ref2","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_slicedToArray___default","recursiveGetRootMostSpan","idSpan","prevSpan","getRootMostSpan","toSpanDepths","depth","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_toConsumableArray___default","values","spanDepth","parseFloat","depthClass","totalSpans","timeMarkers","timeMarkersBackup","spansBackup","ids","deepChildren","e1","e2","s1","s2","concat","indexByParentId","idx","_ref3","serverAddressServiceName","findServiceNameForBinaryAnnotation","__WEBPACK_IMPORTED_MODULE_4__traceConstants__","serverAnnotationServiceName","findServiceNameForAnnotation","messageAnnotationServiceName","clientAddressServiceName","clientAnnotationServiceName","brokerAddressServiceName","localServiceName","allServiceNames","getServiceNames","timestamps","__WEBPACK_IMPORTED_MODULE_3_lodash___default","head","traceDuration","endpoints","endpointsForSpan","uniqWith","endpointEquals","spanTimestamps","getSpanTimestamps","traceType","getTraceErrorType","traceSeqNo","__WEBPACK_IMPORTED_MODULE_5__utils_traceToMustache__","traceSummaries","traceSummariesCleaned","removeEmptyFromArray","maxDuration","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_toConsumableArray___default","t","getGroupedTimestamps","getServiceDurations","serviceTime","totalServiceTime","stamps","acc","filtered","ts","minBy","_$partition$value","partition","_$partition$value2","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_math_trunc___default","mkDurationStr","servicePercentage","parseInt","infoClass","t1","t2","durationComparison","localeCompare","union","h","uniq","sts","toPairs","count","toFixed","$export","S","F","f","_defineProperty","_defineProperty2"],"mappings":"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","file":"static/js/0.253c0311a6fbbdfd3f49.js","sourcesContent":["/*\n * Convenience type representing a tree. This is here because multiple facets in zipkin require\n * traversing the trace tree. For example, looking at network boundaries to correct clock skew, or\n * counting requests imply visiting the tree.\n */\n// originally zipkin2.internal.Node.java\nclass Node {\n  constructor (value) {\n    this._parent = undefined // no default\n    this._value = value // undefined is possible when this is a synthetic root node\n    this._children = []\n    this._missingRootDummyNode = false\n  }\n\n  // Returns the parent, or undefined if root.\n  get parent () {\n    return this._parent\n  }\n\n  // Returns the value, or undefined if a synthetic root node\n  get value () {\n    return this._value\n  }\n\n  // Returns the children of this node\n  get children () {\n    return this._children\n  }\n\n  // Mutable as some transformations, such as clock skew, adjust the current node in the tree.\n  setValue (newValue) {\n    if (!newValue) throw new Error('newValue was undefined')\n    this._value = newValue\n  }\n\n  _setParent (newParent) {\n    this._parent = newParent\n  }\n\n  addChild (child) {\n    if (child === this) throw new Error(`circular dependency on ${this.toString()}`)\n    child._setParent(this)\n    this._children.push(child)\n  }\n\n  // Returns an array of values resulting from a breadth-first traversal at this node\n  traverse () {\n    const result = []\n    const queue = [this]\n\n    while (queue.length > 0) {\n      const current = queue.shift()\n\n      // when there's a synthetic root span, the value could be undefined\n      if (current.value) result.push(current.value)\n\n      const children = current.children\n      for (let i = 0; i < children.length; i++) {\n        queue.push(children[i])\n      }\n    }\n    return result\n  }\n\n  toString () {\n    if (this._value) return `Node(${JSON.stringify(this._value)})`\n    return 'Node()'\n  }\n}\n\n/*\n * Some operations do not require the entire span object. This creates a tree given (parent id,\n * id) pairs.\n */\nclass TreeBuilder {\n  constructor (params) {\n    const {traceId, debug = false} = params\n    this._mergeFunction = (existing, update) => existing || update // first non null\n    if (!traceId) throw new Error('traceId was undefined')\n    this._traceId = traceId\n    this._debug = debug\n    this._rootId = undefined\n    this._rootNode = undefined\n    this._entries = []\n    // Nodes representing the trace tree\n    this._idToNode = {}\n    // Collect the parent-child relationships between all spans.\n    this._idToParent = {}\n  }\n\n  // Returns false after logging on debug if the value couldn't be added\n  addNode (parentId, id, value) {\n    if (parentId && parentId === id) {\n      if (this._debug) {\n        /* eslint-disable no-console */\n        console.log(`skipping circular dependency: traceId=${this._traceId}, spanId=${id}`)\n      }\n      return false\n    }\n    this._idToParent[id] = parentId\n    this._entries.push({parentId, id, value})\n    return true\n  }\n\n  _processNode (entry) {\n    let parentId = entry.parentId ? entry.parentId : this._idToParent[entry.id]\n    const id = entry.id\n    const value = entry.value\n\n    if (!parentId) {\n      if (this._rootId) {\n        if (this._debug) {\n          const prefix = 'attributing span missing parent to root'\n          /* eslint-disable no-console */\n          console.log(\n            `${prefix}: traceId=${this._traceId}, rootSpanId=${this._rootId}, spanId=${id}`\n          )\n        }\n        parentId = this._rootId\n        this._idToParent[id] = parentId\n      } else {\n        this._rootId = id\n      }\n    }\n\n    const node = new Node(value)\n    // special-case root, and attribute missing parents to it. In\n    // other words, assume that the first root is the \"real\" root.\n    if (!parentId && !this._rootNode) {\n      this._rootNode = node\n      this._rootId = id\n    } else if (!parentId && this._rootId === id) {\n      this._rootNode.setValue(this._mergeFunction(this._rootNode.value, node.value))\n    } else {\n      const previous = this._idToNode[id]\n      this._idToNode[id] = node\n      if (previous) node.setValue(this._mergeFunction(previous.value, node.value))\n    }\n  }\n\n  // Builds a tree from calls to addNode, or returns an empty tree.\n  build () {\n    this._entries.forEach((n) => this._processNode(n))\n    if (!this._rootNode) {\n      if (this._debug) {\n        /* eslint-disable no-console */\n        console.log(`substituting dummy node for missing root span: traceId=${this._traceId}`)\n      }\n      this._rootNode = new Node()\n    }\n\n    // Materialize the tree using parent - child relationships\n    Object.keys(this._idToParent).forEach(id => {\n      if (id === this._rootId) return // don't re-process root\n\n      const node = this._idToNode[id]\n      const parent = this._idToNode[this._idToParent[id]]\n      if (!parent) { // handle headless\n        this._rootNode.addChild(node)\n      } else {\n        parent.addChild(node)\n      }\n    })\n    return this._rootNode\n  }\n}\n\nclass ClockSkew {\n  constructor (params) {\n    const {endpoint, skew} = params\n    this._endpoint = endpoint\n    this._skew = skew\n  }\n\n  get endpoint () {\n    return this._endpoint\n  }\n\n  get skew () {\n    return this._skew\n  }\n}\n\nfunction ipsMatch (a, b) {\n  if (a.ipv6 && b.ipv6 && a.ipv6 === b.ipv6) {\n    return true\n  }\n  if (!a.ipv4 && !b.ipv4) return false\n  return a.ipv4 === b.ipv4\n}\n\n// If any annotation has an IP with skew associated, adjust accordingly.\nfunction adjustTimestamps (span, skew) {\n  const spanTimestamp = span.timestamp\n\n  let annotations\n  let annotationTimestamp\n  const annotationLength = span.annotations ? span.annotations.length : 0\n  for (let i = 0; i < annotationLength; i++) {\n    const a = span.annotations[i]\n    if (!a.endpoint) continue\n    if (ipsMatch(skew.endpoint, a.endpoint)) {\n      if (!annotations) annotations = span.annotations.slice(0)\n      if (spanTimestamp && a.timestamp === spanTimestamp) {\n        annotationTimestamp = a.timestamp\n      }\n      annotations[i] = {timestamp: a.timestamp - skew.skew, value: a.value, endpoint: a.endpoint}\n    }\n  }\n  if (annotations) {\n    const result = Object.assign({}, span)\n    if (annotationTimestamp) {\n      result.timestamp = annotationTimestamp - skew.skew\n    }\n    result.annotations = annotations\n    return result\n  }\n  // Search for a local span on the skewed endpoint\n  if (!spanTimestamp) return span // We can't adjust something lacking a timestamp\n  const binaryAnnotations = span.binaryAnnotations || []\n  for (let i = 0; i < binaryAnnotations.length; i++) {\n    const b = binaryAnnotations[i]\n    if (!b.endpoint) continue\n    if (b.key === 'lc' && ipsMatch(skew.endpoint, b.endpoint)) {\n      const result = Object.assign({}, span)\n      result.timestamp = spanTimestamp - skew.skew\n      return result\n    }\n  }\n  return span\n}\n\nfunction oneWaySkew (serverRecv, clientSend) {\n  const latency = serverRecv.timestamp - clientSend.timestamp\n  // the only way there is skew is when the client appears to be after the server\n  if (latency > 0) return undefined\n  // We can't currently do better than push the client and server apart by minimum duration (1)\n  return new ClockSkew({endpoint: serverRecv.endpoint, skew: latency - 1})\n}\n\n// Uses client/server annotations to determine if there's clock skew.\nfunction getClockSkew (span) {\n  let clientSend\n  let serverRecv\n  let serverSend\n  let clientRecv;\n\n  (span.annotations || []).forEach((a) => {\n    switch (a.value) {\n      case 'cs':\n        clientSend = a\n        break\n      case 'sr':\n        serverRecv = a\n        break\n      case 'ss':\n        serverSend = a\n        break\n      case 'cr':\n        clientRecv = a\n        break\n      default:\n    }\n  })\n\n  let oneWay = false\n  if (!clientSend || !serverRecv) {\n    return undefined\n  } else if (!serverSend || !clientRecv) {\n    oneWay = true\n  }\n\n  let server = serverRecv.endpoint\n  if (!server && oneWay) server = serverSend.endpoint\n  if (!server) return undefined\n\n  let client = clientSend.endpoint\n  if (!client && oneWay) client = clientRecv.endpoint\n  if (!client) return undefined\n\n  // There's no skew if the RPC is going to itself\n  if (ipsMatch(server, client)) return undefined\n\n  let latency\n  if (oneWay) {\n    return oneWaySkew(serverRecv, clientSend)\n  } else {\n    const clientDuration = clientRecv.timestamp - clientSend.timestamp\n    const serverDuration = serverSend.timestamp - serverRecv.timestamp\n    // In best case, we assume latency is half the difference between the client and server\n    // duration.\n    //\n    // If the server duration is longer than client, we can't do that: so we use the same approach\n    // as one-way.\n    if (clientDuration < serverDuration) {\n      return oneWaySkew(serverRecv, clientSend)\n    }\n\n    latency = (clientDuration - serverDuration) / 2\n    // We can't see skew when send happens before receive\n    if (latency < 0) return undefined\n\n    const skew = serverRecv.timestamp - latency - clientSend.timestamp\n    if (skew !== 0) {\n      return new ClockSkew({endpoint: server, skew})\n    }\n  }\n\n  return undefined\n}\n\nfunction isSingleHostSpan (span) {\n  const annotations = span.annotations || []\n  const binaryAnnotations = span.binaryAnnotations || []\n\n  // using normal for loop as it allows us to return out of the function\n  let endpoint\n  for (let i = 0; i < annotations.length; i++) {\n    const annotation = annotations[i]\n    if (!endpoint) {\n      endpoint = annotation.endpoint\n      continue\n    }\n    if (!ipsMatch(endpoint, annotation.endpoint)) {\n      return false // there's a mix of endpoints in this span\n    }\n  }\n  for (let i = 0; i < binaryAnnotations.length; i++) {\n    const binaryAnnotation = binaryAnnotations[i]\n    if (binaryAnnotation.type || binaryAnnotation.value === true) continue\n    if (!endpoint) {\n      endpoint = binaryAnnotation.endpoint\n      continue\n    }\n    if (!ipsMatch(endpoint, binaryAnnotation.endpoint)) {\n      return false // there's a mix of endpoints in this span\n    }\n  }\n  return true\n}\n\n/*\n * Recursively adjust the timestamps on the span tree. Root span is the reference point, all\n * children's timestamps gets adjusted based on that span's timestamps.\n */\nfunction adjust (node, skewFromParent) {\n  // adjust skew for the endpoint brought over from the parent span\n  if (skewFromParent) {\n    node.setValue(adjustTimestamps(node.value, skewFromParent))\n  }\n\n  // Is there any skew in the current span?\n  let skew = getClockSkew(node.value)\n  if (skew) {\n    // the current span's skew may be a different endpoint than its parent, so adjust again.\n    node.setValue(adjustTimestamps(node.value, skew))\n  } else if (skewFromParent && isSingleHostSpan(node.value)) {\n    // Assumes we are on the same host: propagate skew from our parent\n    skew = skewFromParent\n  }\n  // propagate skew to any children\n  node.children.forEach(child => adjust(child, skew))\n}\n\nfunction correctForClockSkew (spans, debug = false) {\n  if (spans.length === 0) return spans\n\n  const traceId = spans[0].traceId\n  let rootSpanId\n  const treeBuilder = new TreeBuilder({traceId, debug})\n\n  let dataError = false\n  spans.forEach(next => {\n    if (!next.parentId) {\n      if (rootSpanId) {\n        if (debug) {\n          const prefix = 'skipping redundant root span'\n          /* eslint-disable no-console */\n          console.log(\n            `${prefix}: traceId=${traceId}, rootSpanId=${rootSpanId}, spanId=${next.id}`\n          )\n        }\n        dataError = true\n        return\n      }\n      rootSpanId = next.id\n    }\n    if (!treeBuilder.addNode(next.parentId, next.id, next)) {\n      dataError = true\n    }\n  })\n\n  if (!rootSpanId) {\n    if (debug) {\n      console.log(`skipping clock skew adjustment due to missing root span: traceId=${traceId}`)\n    }\n    return spans\n  } else if (dataError) {\n    if (debug) {\n      console.log(`skipping clock skew adjustment due to data errors: traceId=${traceId}`)\n    }\n    return spans\n  }\n\n  const tree = treeBuilder.build()\n  adjust(tree)\n  return tree.traverse()\n}\n\nexport default {\n  Node,\n  TreeBuilder,\n  ipsMatch, // for testing\n  isSingleHostSpan, // for testing\n  getClockSkew, // for testing\n  correctForClockSkew\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/skew.js","function toV1Endpoint (endpoint) {\n  if (endpoint === undefined) {\n    return undefined\n  }\n  const res = {\n    serviceName: endpoint.serviceName || '' // undefined is not allowed in v1\n  }\n  if (endpoint.ipv4) {\n    res.ipv4 = endpoint.ipv4\n  }\n  if (endpoint.ipv6) {\n    res.ipv6 = endpoint.ipv6\n  }\n  if (endpoint.port) {\n    res.port = endpoint.port\n  }\n  return res\n}\n\nfunction toV1Annotation (ann, endpoint) {\n  const res = {\n    value: ann.value,\n    timestamp: ann.timestamp\n  }\n  if (endpoint) {\n    res.endpoint = endpoint\n  }\n  return res\n}\n\nfunction normalizeTraceId (traceId) {\n  if (traceId.length > 16) {\n    return traceId.padStart(32, '0')\n  }\n  return traceId.padStart(16, '0')\n}\n\n// ported from zipkin2.v1.V1SpanConverter\nfunction convertV1 (span) {\n  const res = {\n    traceId: normalizeTraceId(span.traceId)\n  }\n\n  // take care not to create self-referencing spans even if the input data is incorrect\n  const id = span.id.padStart(16, '0')\n  if (span.parentId) {\n    const parentId = span.parentId.padStart(16, '0')\n    if (parentId !== id) {\n      res.parentId = parentId\n    }\n  }\n\n  res.id = id\n  res.name = span.name || '' // undefined is not allowed in v1\n  if (span.debug) {\n    res.debug = true\n  }\n\n  // Don't report timestamp and duration on shared spans (should be server, but not necessarily)\n  if (!span.shared) {\n    if (span.timestamp) res.timestamp = span.timestamp\n    if (span.duration) res.duration = span.duration\n  }\n\n  let startTs = span.timestamp || 0\n  let endTs = startTs && span.duration ? startTs + span.duration : 0\n  let msTs = 0\n  let wsTs = 0\n  let wrTs = 0\n  let mrTs = 0\n\n  let begin\n  let end\n\n  let kind = span.kind;\n\n  // scan annotations in case there are better timestamps, or inferred kind\n  (span.annotations || []).forEach((a) => {\n    switch (a.value) {\n      case 'cs':\n        kind = 'CLIENT'\n        if (a.timestamp < startTs) startTs = a.timestamp\n        break\n      case 'sr':\n        kind = 'SERVER'\n        if (a.timestamp < startTs) startTs = a.timestamp\n        break\n      case 'ss':\n        kind = 'SERVER'\n        if (a.timestamp > endTs) endTs = a.timestamp\n        break\n      case 'cr':\n        kind = 'CLIENT'\n        if (a.timestamp > endTs) endTs = a.timestamp\n        break\n      case 'ms':\n        kind = 'PRODUCER'\n        msTs = a.timestamp\n        break\n      case 'mr':\n        kind = 'CONSUMER'\n        mrTs = a.timestamp\n        break\n      case 'ws':\n        wsTs = a.timestamp\n        break\n      case 'wr':\n        wrTs = a.timestamp\n        break\n      default:\n    }\n  })\n\n  let addr = 'sa' // default which will be unset later if needed\n\n  switch (kind) {\n    case 'CLIENT':\n      addr = 'sa'\n      begin = 'cs'\n      end = 'cr'\n      break\n    case 'SERVER':\n      addr = 'ca'\n      begin = 'sr'\n      end = 'ss'\n      break\n    case 'PRODUCER':\n      addr = 'ma'\n      begin = 'ms'\n      end = 'ws'\n      if (startTs === 0 || (msTs !== 0 && msTs < startTs)) {\n        startTs = msTs\n      }\n      if (endTs === 0 || (wsTs !== 0 && wsTs > endTs)) {\n        endTs = wsTs\n      }\n      break\n    case 'CONSUMER':\n      addr = 'ma'\n      if (startTs === 0 || (wrTs !== 0 && wrTs < startTs)) {\n        startTs = wrTs\n      }\n      if (endTs === 0 || (mrTs !== 0 && mrTs > endTs)) {\n        endTs = mrTs\n      }\n      if (endTs !== 0 || wrTs !== 0) {\n        begin = 'wr'\n        end = 'mr'\n      } else {\n        begin = 'mr'\n      }\n      break\n    default:\n  }\n\n  // If we didn't find a span kind, directly or indirectly, unset the addr\n  if (!span.remoteEndpoint) addr = undefined\n\n  const beginAnnotation = startTs && begin\n  const endAnnotation = endTs && end\n  const ep = toV1Endpoint(span.localEndpoint)\n\n  res.annotations = [] // prefer empty to undefined for arrays\n\n  let annotationCount = (span.annotations || []).length\n  if (beginAnnotation) {\n    annotationCount++\n    res.annotations.push(toV1Annotation({\n      value: begin,\n      timestamp: startTs\n    }, ep))\n  }\n\n  (span.annotations || []).forEach((a) => {\n    if (beginAnnotation && a.value === begin) return\n    if (endAnnotation && a.value === end) return\n    res.annotations.push(toV1Annotation(a, ep))\n  })\n\n  if (endAnnotation) {\n    annotationCount++\n    res.annotations.push(toV1Annotation({\n      value: end,\n      timestamp: endTs\n    }, ep))\n  }\n\n  res.binaryAnnotations = [] // prefer empty to undefined for arrays\n  const keys = Object.keys(span.tags || {})\n  if (keys.length > 0) {\n    res.binaryAnnotations = keys.map(key => ({\n      key,\n      value: span.tags[key],\n      endpoint: ep\n    }))\n  }\n\n  const writeLocalComponent = annotationCount === 0 && ep && keys.length === 0\n  const hasRemoteEndpoint = addr && span.remoteEndpoint\n\n  // write an empty 'lc' annotation to avoid missing the localEndpoint in an in-process span\n  if (writeLocalComponent) {\n    res.binaryAnnotations.push({key: 'lc', value: '', endpoint: ep})\n  }\n  if (hasRemoteEndpoint) {\n    const address = {\n      key: addr,\n      value: true,\n      endpoint: toV1Endpoint(span.remoteEndpoint)\n    }\n    res.binaryAnnotations.push(address)\n  }\n\n  return res\n}\n\n// This guards to ensure we don't add duplicate annotations on merge\nfunction maybePushAnnotation (annotations, a) {\n  if (annotations.findIndex(b => a.value === b.value) === -1) {\n    annotations.push(a)\n  }\n}\n\n// This guards to ensure we don't add duplicate binary annotations on merge\nfunction maybePushBinaryAnnotation (binaryAnnotations, a) {\n  if (binaryAnnotations.findIndex(b => a.key === b.key) === -1) {\n    binaryAnnotations.push(a)\n  }\n}\n\n// This cleans potential dirty v1 inputs, like normalizing IDs etc.\nfunction clean (span) {\n  const res = {\n    traceId: normalizeTraceId(span.traceId)\n  }\n\n  // take care not to create self-referencing spans even if the input data is incorrect\n  const id = span.id.padStart(16, '0')\n  if (span.parentId) {\n    const parentId = span.parentId.padStart(16, '0')\n    if (parentId !== id) {\n      res.parentId = parentId\n    }\n  }\n\n  res.id = id\n  res.name = span.name || ''\n  if (span.timestamp) res.timestamp = span.timestamp\n  if (span.duration) res.duration = span.duration\n  res.annotations = span.annotations || []\n  res.annotations.sort((a, b) => a.timestamp - b.timestamp)\n  res.binaryAnnotations = span.binaryAnnotations || []\n  if (span.debug) {\n    res.debug = true\n  }\n  return res\n}\n\nfunction merge (left, right) {\n  // normalize ID lengths in case dirty input is received\n  //  (this won't be the case from the normal zipkin server, as it normalizes IDs)\n  const res = {\n    traceId: normalizeTraceId(right.traceId.length > 16 ? right.traceId : left.traceId)\n  }\n\n  // take care not to create self-referencing spans even if the input data is incorrect\n  const id = left.id.padStart(16, '0')\n  if (left.parentId) {\n    const leftParent = left.parentId.padStart(16, '0')\n    if (leftParent !== id) {\n      res.parentId = leftParent\n    }\n  }\n\n  if (right.parentId && !res.parentId) {\n    const rightParent = right.parentId.padStart(16, '0')\n    if (rightParent !== id) {\n      res.parentId = rightParent\n    }\n  }\n\n  res.id = id\n  res.name = left.name || ''\n\n  // When we move to span model 2, remove this code in favor of using Span.kind == CLIENT\n  let leftClientSpan\n  let rightClientSpan\n  let rightServerSpan\n\n  res.annotations = [];\n\n  (left.annotations || []).forEach((a) => {\n    if (a.value === 'cs') leftClientSpan = true\n    maybePushAnnotation(res.annotations, a)\n  });\n\n  (right.annotations || []).forEach((a) => {\n    if (a.value === 'cs') rightClientSpan = true\n    if (a.value === 'sr') rightServerSpan = true\n    maybePushAnnotation(res.annotations, a)\n  })\n\n  res.annotations.sort((a, b) => a.timestamp - b.timestamp)\n\n  res.binaryAnnotations = [];\n\n  (left.binaryAnnotations || []).forEach((b) => {\n    maybePushBinaryAnnotation(res.binaryAnnotations, b)\n  });\n\n  (right.binaryAnnotations || []).forEach((b) => {\n    maybePushBinaryAnnotation(res.binaryAnnotations, b)\n  })\n\n  if (right.name && right.name !== '' && right.name !== 'unknown') {\n    if (res.name === '' || res.name === 'unknown') {\n      res.name = right.name\n    } else if (leftClientSpan && rightServerSpan) {\n      res.name = right.name // prefer the server's span name\n    }\n  }\n\n  // Single timestamp makes duration easy: just choose max\n  if (!left.timestamp || !right.timestamp || left.timestamp === right.timestamp) {\n    res.timestamp = left.timestamp || right.timestamp\n    if (!left.duration) {\n      res.duration = right.duration\n    } else if (right.duration) {\n      res.duration = Math.max(left.duration, right.duration)\n    } else {\n      res.duration = left.duration\n    }\n  } else {\n    // We have 2 different timestamps. If we have client data in either one of them, use right,\n    // else set timestamp and duration to null\n    if (rightClientSpan) {\n      res.timestamp = right.timestamp\n      res.duration = right.duration\n    } else if (leftClientSpan) {\n      res.timestamp = left.timestamp\n      res.duration = left.duration\n    }\n  }\n\n  if (right.debug) {\n    res.debug = true\n  }\n  return res\n}\n\n/*\n * Instrumentation should set {@link Span#timestamp} when recording a span so that guess-work\n * isn't needed. Since a lot of instrumentation don't, we have to make some guesses.\n *\n * * If there is a 'cs', use that\n * * Fall back to 'sr'\n * * Otherwise, return undefined\n */\n// originally zipkin.internal.ApplyTimestampAndDuration.guessTimestamp\nfunction guessTimestamp (span) {\n  if (span.timestamp || !span.annotations || span.annotations.length === 0) {\n    return span.timestamp\n  }\n  let rootServerRecv\n  for (let i = 0; i < span.annotations.length; i++) {\n    const a = span.annotations[i]\n    if (a.value === 'cs') {\n      return a.timestamp\n    } else if (a.value === 'sr') {\n      rootServerRecv = a.timestamp\n    }\n  }\n  return rootServerRecv\n}\n\n/*\n * For RPC two-way spans, the duration between 'cs' and 'cr' is authoritative. RPC one-way spans\n * lack a response, so the duration is between 'cs' and 'sr'. We special-case this to avoid\n * setting incorrect duration when there's skew between the client and the server.\n */\n// originally zipkin.internal.ApplyTimestampAndDuration.apply\nfunction applyTimestampAndDuration (span) {\n  // Don't overwrite authoritatively set timestamp and duration!\n  if ((span.timestamp && span.duration) || !span.annotations) {\n    return span\n  }\n\n  // We cannot backfill duration on a span with less than two annotations. However, we can\n  // backfill timestamp.\n  const annotationLength = span.annotations.length\n  if (annotationLength < 2) {\n    if (span.timestamp) return span\n    const guess = guessTimestamp(span)\n    if (!guess) return span\n    span.timestamp = guess // eslint-disable-line no-param-reassign\n    return span\n  }\n\n  // Prefer RPC one-way (cs -> sr) vs arbitrary annotations.\n  let first = span.annotations[0].timestamp\n  let last = span.annotations[annotationLength - 1].timestamp\n  span.annotations.forEach((a) => {\n    if (a.value === 'cs') {\n      first = a.timestamp\n    } else if (a.value === 'cr') {\n      last = a.timestamp\n    }\n  })\n\n  if (!span.timestamp) {\n    span.timestamp = first // eslint-disable-line no-param-reassign\n  }\n  if (!span.duration && last !== first) {\n    span.duration = last - first // eslint-disable-line no-param-reassign\n  }\n  return span\n}\n\n// compares potentially undefined input\nfunction compare (a, b) {\n  if (!a && !b) return 0\n  if (!a) return -1\n  if (!b) return 1\n  return (a > b) - (a < b)\n}\n\n/*\n * v1 spans can be sent in multiple parts. Also client and server spans can share the same ID. This\n * merges both scenarios.\n */\n// originally zipkin.internal.MergeById.apply\nfunction mergeById (spans) {\n  const result = []\n\n  if (!spans || spans.length === 0) return result\n\n  const spanIdToSpans = {}\n  spans.forEach((s) => {\n    const id = s.id.padStart(16, '0')\n    spanIdToSpans[id] = spanIdToSpans[id] || []\n    spanIdToSpans[id].push(s)\n  })\n\n  Object.keys(spanIdToSpans).forEach(id => {\n    const spansToMerge = spanIdToSpans[id]\n    let left = clean(spansToMerge[0])\n    for (let i = 1; i < spansToMerge.length; i++) {\n      left = merge(left, spansToMerge[i])\n    }\n\n    // attempt to get a timestamp so that sorting will be helpful\n    result.push(applyTimestampAndDuration(left))\n  })\n\n  // sort by timestamp, then name, root first in case of skew\n  // TODO: this should be a topological sort\n  return result.sort((a, b) => {\n    if (!a.parentId) { // a is root\n      return -1\n    } else if (!b.parentId) { // b is root\n      return 1\n    }\n    // Either a and b are root or neither are. In any case sort by timestamp, then name\n    return compare(a.timestamp, b.timestamp) || compare(a.name, b.name)\n  })\n}\n\nexport const SPAN_V1 = {\n  convert (v2Span) {\n    return convertV1(v2Span)\n  },\n  merge (v1Left, v1Right) {\n    return merge(v1Left, v1Right)\n  },\n  applyTimestampAndDuration (v1Span) {\n    return applyTimestampAndDuration(v1Span)\n  },\n  mergeById (v1Spans) {\n    return mergeById(v1Spans)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/spanConverter.js","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/define-property.js\n// module id = 9bBU\n// module chunks = 0","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/define-property.js\n// module id = C4MV\n// module chunks = 0","const CLIENT_SEND = 'cs'\nconst CLIENT_SEND_FRAGMENT = 'csf'\nconst CLIENT_RECEIVE = 'cr'\nconst CLIENT_RECEIVE_FRAGMENT = 'crf'\nconst MESSAGE_SEND = 'ms'\nconst MESSAGE_RECEIVE = 'mr'\nconst SERVER_SEND = 'ss'\nconst SERVER_SEND_FRAGMENT = 'ssf'\nconst SERVER_RECEIVE = 'sr'\nconst SERVER_RECEIVE_FRAGMENT = 'srf'\nconst SERVER_ADDR = 'sa'\nconst CLIENT_ADDR = 'ca'\nconst MESSAGE_ADDR = 'ma'\nconst WIRE_SEND = 'ws'\nconst WIRE_RECEIVE = 'wr'\nconst ERROR = 'error'\nconst LOCAL_COMPONENT = 'lc'\nconst CORE_CLIENT = [CLIENT_RECEIVE, CLIENT_RECEIVE_FRAGMENT, CLIENT_SEND, CLIENT_SEND_FRAGMENT]\nconst CORE_MESSAGE = [MESSAGE_SEND, MESSAGE_RECEIVE]\nconst CORE_SERVER = [SERVER_RECEIVE, SERVER_RECEIVE_FRAGMENT, SERVER_SEND, SERVER_SEND_FRAGMENT]\nconst CORE_ADDRESS = [CLIENT_ADDR, SERVER_ADDR, MESSAGE_ADDR]\nconst CORE_WIRE = [WIRE_SEND, WIRE_RECEIVE]\nconst CORE_LOCAL = [LOCAL_COMPONENT]\nconst CORE_ANNOTATIONS = [...CORE_CLIENT, ...CORE_SERVER, ...CORE_WIRE, ...CORE_LOCAL]\nexport const Constants = {\n  CLIENT_SEND,\n  CLIENT_SEND_FRAGMENT,\n  CLIENT_RECEIVE,\n  CLIENT_RECEIVE_FRAGMENT,\n  MESSAGE_SEND,\n  MESSAGE_RECEIVE,\n  SERVER_SEND,\n  SERVER_SEND_FRAGMENT,\n  SERVER_RECEIVE,\n  SERVER_RECEIVE_FRAGMENT,\n  SERVER_ADDR,\n  CLIENT_ADDR,\n  MESSAGE_ADDR,\n  CORE_CLIENT,\n  CORE_MESSAGE,\n  CORE_SERVER,\n  ERROR,\n  LOCAL_COMPONENT,\n  CORE_ADDRESS,\n  CORE_WIRE,\n  CORE_LOCAL,\n  CORE_ANNOTATIONS\n}\n\nexport const ConstantNames = {}\nConstantNames[CLIENT_SEND] = 'Client Send'\nConstantNames[CLIENT_SEND_FRAGMENT] = 'Client Send Fragment'\nConstantNames[CLIENT_RECEIVE] = 'Client Receive'\nConstantNames[CLIENT_RECEIVE_FRAGMENT] = 'Client Receive Fragment'\nConstantNames[MESSAGE_SEND] = 'Producer Send'\nConstantNames[MESSAGE_RECEIVE] = 'Consumer Receive'\nConstantNames[SERVER_SEND] = 'Server Send'\nConstantNames[SERVER_SEND_FRAGMENT] = 'Server Send Fragment'\nConstantNames[SERVER_RECEIVE] = 'Server Receive'\nConstantNames[SERVER_RECEIVE_FRAGMENT] = 'Server Receive Fragment'\nConstantNames[CLIENT_ADDR] = 'Client Address'\nConstantNames[MESSAGE_ADDR] = 'Broker Address'\nConstantNames[SERVER_ADDR] = 'Server Address'\nConstantNames[WIRE_SEND] = 'Wire Send'\nConstantNames[WIRE_RECEIVE] = 'Wire Receive'\nConstantNames[LOCAL_COMPONENT] = 'Local Component'\n// Don't add ERROR to ConstantNames -- css coloring depends on constant name 'error'\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/traceConstants.js","\"use strict\";\n\nexports.__esModule = true;\n\nvar _from = require(\"../core-js/array/from\");\n\nvar _from2 = _interopRequireDefault(_from);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return (0, _from2.default)(arr);\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/toConsumableArray.js\n// module id = Gu7T\n// module chunks = 0","/*!\n * clipboard.js v2.0.1\n * https://zenorocha.github.io/clipboard.js\n * \n * Licensed MIT © Zeno Rocha\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ClipboardJS\"] = factory();\n\telse\n\t\troot[\"ClipboardJS\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 3);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (global, factory) {\n    if (true) {\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [module, __webpack_require__(7)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else if (typeof exports !== \"undefined\") {\n        factory(module, require('select'));\n    } else {\n        var mod = {\n            exports: {}\n        };\n        factory(mod, global.select);\n        global.clipboardAction = mod.exports;\n    }\n})(this, function (module, _select) {\n    'use strict';\n\n    var _select2 = _interopRequireDefault(_select);\n\n    function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n            default: obj\n        };\n    }\n\n    var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n    } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n        }\n    }\n\n    var _createClass = function () {\n        function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n                var descriptor = props[i];\n                descriptor.enumerable = descriptor.enumerable || false;\n                descriptor.configurable = true;\n                if (\"value\" in descriptor) descriptor.writable = true;\n                Object.defineProperty(target, descriptor.key, descriptor);\n            }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n        };\n    }();\n\n    var ClipboardAction = function () {\n        /**\n         * @param {Object} options\n         */\n        function ClipboardAction(options) {\n            _classCallCheck(this, ClipboardAction);\n\n            this.resolveOptions(options);\n            this.initSelection();\n        }\n\n        /**\n         * Defines base properties passed from constructor.\n         * @param {Object} options\n         */\n\n\n        _createClass(ClipboardAction, [{\n            key: 'resolveOptions',\n            value: function resolveOptions() {\n                var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n                this.action = options.action;\n                this.container = options.container;\n                this.emitter = options.emitter;\n                this.target = options.target;\n                this.text = options.text;\n                this.trigger = options.trigger;\n\n                this.selectedText = '';\n            }\n        }, {\n            key: 'initSelection',\n            value: function initSelection() {\n                if (this.text) {\n                    this.selectFake();\n                } else if (this.target) {\n                    this.selectTarget();\n                }\n            }\n        }, {\n            key: 'selectFake',\n            value: function selectFake() {\n                var _this = this;\n\n                var isRTL = document.documentElement.getAttribute('dir') == 'rtl';\n\n                this.removeFake();\n\n                this.fakeHandlerCallback = function () {\n                    return _this.removeFake();\n                };\n                this.fakeHandler = this.container.addEventListener('click', this.fakeHandlerCallback) || true;\n\n                this.fakeElem = document.createElement('textarea');\n                // Prevent zooming on iOS\n                this.fakeElem.style.fontSize = '12pt';\n                // Reset box model\n                this.fakeElem.style.border = '0';\n                this.fakeElem.style.padding = '0';\n                this.fakeElem.style.margin = '0';\n                // Move element out of screen horizontally\n                this.fakeElem.style.position = 'absolute';\n                this.fakeElem.style[isRTL ? 'right' : 'left'] = '-9999px';\n                // Move element to the same position vertically\n                var yPosition = window.pageYOffset || document.documentElement.scrollTop;\n                this.fakeElem.style.top = yPosition + 'px';\n\n                this.fakeElem.setAttribute('readonly', '');\n                this.fakeElem.value = this.text;\n\n                this.container.appendChild(this.fakeElem);\n\n                this.selectedText = (0, _select2.default)(this.fakeElem);\n                this.copyText();\n            }\n        }, {\n            key: 'removeFake',\n            value: function removeFake() {\n                if (this.fakeHandler) {\n                    this.container.removeEventListener('click', this.fakeHandlerCallback);\n                    this.fakeHandler = null;\n                    this.fakeHandlerCallback = null;\n                }\n\n                if (this.fakeElem) {\n                    this.container.removeChild(this.fakeElem);\n                    this.fakeElem = null;\n                }\n            }\n        }, {\n            key: 'selectTarget',\n            value: function selectTarget() {\n                this.selectedText = (0, _select2.default)(this.target);\n                this.copyText();\n            }\n        }, {\n            key: 'copyText',\n            value: function copyText() {\n                var succeeded = void 0;\n\n                try {\n                    succeeded = document.execCommand(this.action);\n                } catch (err) {\n                    succeeded = false;\n                }\n\n                this.handleResult(succeeded);\n            }\n        }, {\n            key: 'handleResult',\n            value: function handleResult(succeeded) {\n                this.emitter.emit(succeeded ? 'success' : 'error', {\n                    action: this.action,\n                    text: this.selectedText,\n                    trigger: this.trigger,\n                    clearSelection: this.clearSelection.bind(this)\n                });\n            }\n        }, {\n            key: 'clearSelection',\n            value: function clearSelection() {\n                if (this.trigger) {\n                    this.trigger.focus();\n                }\n\n                window.getSelection().removeAllRanges();\n            }\n        }, {\n            key: 'destroy',\n            value: function destroy() {\n                this.removeFake();\n            }\n        }, {\n            key: 'action',\n            set: function set() {\n                var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'copy';\n\n                this._action = action;\n\n                if (this._action !== 'copy' && this._action !== 'cut') {\n                    throw new Error('Invalid \"action\" value, use either \"copy\" or \"cut\"');\n                }\n            },\n            get: function get() {\n                return this._action;\n            }\n        }, {\n            key: 'target',\n            set: function set(target) {\n                if (target !== undefined) {\n                    if (target && (typeof target === 'undefined' ? 'undefined' : _typeof(target)) === 'object' && target.nodeType === 1) {\n                        if (this.action === 'copy' && target.hasAttribute('disabled')) {\n                            throw new Error('Invalid \"target\" attribute. Please use \"readonly\" instead of \"disabled\" attribute');\n                        }\n\n                        if (this.action === 'cut' && (target.hasAttribute('readonly') || target.hasAttribute('disabled'))) {\n                            throw new Error('Invalid \"target\" attribute. You can\\'t cut text from elements with \"readonly\" or \"disabled\" attributes');\n                        }\n\n                        this._target = target;\n                    } else {\n                        throw new Error('Invalid \"target\" value, use a valid Element');\n                    }\n                }\n            },\n            get: function get() {\n                return this._target;\n            }\n        }]);\n\n        return ClipboardAction;\n    }();\n\n    module.exports = ClipboardAction;\n});\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar is = __webpack_require__(6);\nvar delegate = __webpack_require__(5);\n\n/**\n * Validates all params and calls the right\n * listener function based on its target type.\n *\n * @param {String|HTMLElement|HTMLCollection|NodeList} target\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listen(target, type, callback) {\n    if (!target && !type && !callback) {\n        throw new Error('Missing required arguments');\n    }\n\n    if (!is.string(type)) {\n        throw new TypeError('Second argument must be a String');\n    }\n\n    if (!is.fn(callback)) {\n        throw new TypeError('Third argument must be a Function');\n    }\n\n    if (is.node(target)) {\n        return listenNode(target, type, callback);\n    }\n    else if (is.nodeList(target)) {\n        return listenNodeList(target, type, callback);\n    }\n    else if (is.string(target)) {\n        return listenSelector(target, type, callback);\n    }\n    else {\n        throw new TypeError('First argument must be a String, HTMLElement, HTMLCollection, or NodeList');\n    }\n}\n\n/**\n * Adds an event listener to a HTML element\n * and returns a remove listener function.\n *\n * @param {HTMLElement} node\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenNode(node, type, callback) {\n    node.addEventListener(type, callback);\n\n    return {\n        destroy: function() {\n            node.removeEventListener(type, callback);\n        }\n    }\n}\n\n/**\n * Add an event listener to a list of HTML elements\n * and returns a remove listener function.\n *\n * @param {NodeList|HTMLCollection} nodeList\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenNodeList(nodeList, type, callback) {\n    Array.prototype.forEach.call(nodeList, function(node) {\n        node.addEventListener(type, callback);\n    });\n\n    return {\n        destroy: function() {\n            Array.prototype.forEach.call(nodeList, function(node) {\n                node.removeEventListener(type, callback);\n            });\n        }\n    }\n}\n\n/**\n * Add an event listener to a selector\n * and returns a remove listener function.\n *\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenSelector(selector, type, callback) {\n    return delegate(document.body, selector, type, callback);\n}\n\nmodule.exports = listen;\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nfunction E () {\n  // Keep this empty so it's easier to inherit from\n  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n}\n\nE.prototype = {\n  on: function (name, callback, ctx) {\n    var e = this.e || (this.e = {});\n\n    (e[name] || (e[name] = [])).push({\n      fn: callback,\n      ctx: ctx\n    });\n\n    return this;\n  },\n\n  once: function (name, callback, ctx) {\n    var self = this;\n    function listener () {\n      self.off(name, listener);\n      callback.apply(ctx, arguments);\n    };\n\n    listener._ = callback\n    return this.on(name, listener, ctx);\n  },\n\n  emit: function (name) {\n    var data = [].slice.call(arguments, 1);\n    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n    var i = 0;\n    var len = evtArr.length;\n\n    for (i; i < len; i++) {\n      evtArr[i].fn.apply(evtArr[i].ctx, data);\n    }\n\n    return this;\n  },\n\n  off: function (name, callback) {\n    var e = this.e || (this.e = {});\n    var evts = e[name];\n    var liveEvents = [];\n\n    if (evts && callback) {\n      for (var i = 0, len = evts.length; i < len; i++) {\n        if (evts[i].fn !== callback && evts[i].fn._ !== callback)\n          liveEvents.push(evts[i]);\n      }\n    }\n\n    // Remove event from queue to prevent memory leak\n    // Suggested by https://github.com/lazd\n    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\n    (liveEvents.length)\n      ? e[name] = liveEvents\n      : delete e[name];\n\n    return this;\n  }\n};\n\nmodule.exports = E;\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (global, factory) {\n    if (true) {\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [module, __webpack_require__(0), __webpack_require__(2), __webpack_require__(1)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else if (typeof exports !== \"undefined\") {\n        factory(module, require('./clipboard-action'), require('tiny-emitter'), require('good-listener'));\n    } else {\n        var mod = {\n            exports: {}\n        };\n        factory(mod, global.clipboardAction, global.tinyEmitter, global.goodListener);\n        global.clipboard = mod.exports;\n    }\n})(this, function (module, _clipboardAction, _tinyEmitter, _goodListener) {\n    'use strict';\n\n    var _clipboardAction2 = _interopRequireDefault(_clipboardAction);\n\n    var _tinyEmitter2 = _interopRequireDefault(_tinyEmitter);\n\n    var _goodListener2 = _interopRequireDefault(_goodListener);\n\n    function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n            default: obj\n        };\n    }\n\n    var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n    } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n        }\n    }\n\n    var _createClass = function () {\n        function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n                var descriptor = props[i];\n                descriptor.enumerable = descriptor.enumerable || false;\n                descriptor.configurable = true;\n                if (\"value\" in descriptor) descriptor.writable = true;\n                Object.defineProperty(target, descriptor.key, descriptor);\n            }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n        };\n    }();\n\n    function _possibleConstructorReturn(self, call) {\n        if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n    }\n\n    function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n                value: subClass,\n                enumerable: false,\n                writable: true,\n                configurable: true\n            }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n    }\n\n    var Clipboard = function (_Emitter) {\n        _inherits(Clipboard, _Emitter);\n\n        /**\n         * @param {String|HTMLElement|HTMLCollection|NodeList} trigger\n         * @param {Object} options\n         */\n        function Clipboard(trigger, options) {\n            _classCallCheck(this, Clipboard);\n\n            var _this = _possibleConstructorReturn(this, (Clipboard.__proto__ || Object.getPrototypeOf(Clipboard)).call(this));\n\n            _this.resolveOptions(options);\n            _this.listenClick(trigger);\n            return _this;\n        }\n\n        /**\n         * Defines if attributes would be resolved using internal setter functions\n         * or custom functions that were passed in the constructor.\n         * @param {Object} options\n         */\n\n\n        _createClass(Clipboard, [{\n            key: 'resolveOptions',\n            value: function resolveOptions() {\n                var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n                this.action = typeof options.action === 'function' ? options.action : this.defaultAction;\n                this.target = typeof options.target === 'function' ? options.target : this.defaultTarget;\n                this.text = typeof options.text === 'function' ? options.text : this.defaultText;\n                this.container = _typeof(options.container) === 'object' ? options.container : document.body;\n            }\n        }, {\n            key: 'listenClick',\n            value: function listenClick(trigger) {\n                var _this2 = this;\n\n                this.listener = (0, _goodListener2.default)(trigger, 'click', function (e) {\n                    return _this2.onClick(e);\n                });\n            }\n        }, {\n            key: 'onClick',\n            value: function onClick(e) {\n                var trigger = e.delegateTarget || e.currentTarget;\n\n                if (this.clipboardAction) {\n                    this.clipboardAction = null;\n                }\n\n                this.clipboardAction = new _clipboardAction2.default({\n                    action: this.action(trigger),\n                    target: this.target(trigger),\n                    text: this.text(trigger),\n                    container: this.container,\n                    trigger: trigger,\n                    emitter: this\n                });\n            }\n        }, {\n            key: 'defaultAction',\n            value: function defaultAction(trigger) {\n                return getAttributeValue('action', trigger);\n            }\n        }, {\n            key: 'defaultTarget',\n            value: function defaultTarget(trigger) {\n                var selector = getAttributeValue('target', trigger);\n\n                if (selector) {\n                    return document.querySelector(selector);\n                }\n            }\n        }, {\n            key: 'defaultText',\n            value: function defaultText(trigger) {\n                return getAttributeValue('text', trigger);\n            }\n        }, {\n            key: 'destroy',\n            value: function destroy() {\n                this.listener.destroy();\n\n                if (this.clipboardAction) {\n                    this.clipboardAction.destroy();\n                    this.clipboardAction = null;\n                }\n            }\n        }], [{\n            key: 'isSupported',\n            value: function isSupported() {\n                var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ['copy', 'cut'];\n\n                var actions = typeof action === 'string' ? [action] : action;\n                var support = !!document.queryCommandSupported;\n\n                actions.forEach(function (action) {\n                    support = support && !!document.queryCommandSupported(action);\n                });\n\n                return support;\n            }\n        }]);\n\n        return Clipboard;\n    }(_tinyEmitter2.default);\n\n    /**\n     * Helper function to retrieve attribute value.\n     * @param {String} suffix\n     * @param {Element} element\n     */\n    function getAttributeValue(suffix, element) {\n        var attribute = 'data-clipboard-' + suffix;\n\n        if (!element.hasAttribute(attribute)) {\n            return;\n        }\n\n        return element.getAttribute(attribute);\n    }\n\n    module.exports = Clipboard;\n});\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\nvar DOCUMENT_NODE_TYPE = 9;\n\n/**\n * A polyfill for Element.matches()\n */\nif (typeof Element !== 'undefined' && !Element.prototype.matches) {\n    var proto = Element.prototype;\n\n    proto.matches = proto.matchesSelector ||\n                    proto.mozMatchesSelector ||\n                    proto.msMatchesSelector ||\n                    proto.oMatchesSelector ||\n                    proto.webkitMatchesSelector;\n}\n\n/**\n * Finds the closest parent that matches a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @return {Function}\n */\nfunction closest (element, selector) {\n    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {\n        if (typeof element.matches === 'function' &&\n            element.matches(selector)) {\n          return element;\n        }\n        element = element.parentNode;\n    }\n}\n\nmodule.exports = closest;\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar closest = __webpack_require__(4);\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction _delegate(element, selector, type, callback, useCapture) {\n    var listenerFn = listener.apply(this, arguments);\n\n    element.addEventListener(type, listenerFn, useCapture);\n\n    return {\n        destroy: function() {\n            element.removeEventListener(type, listenerFn, useCapture);\n        }\n    }\n}\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element|String|Array} [elements]\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction delegate(elements, selector, type, callback, useCapture) {\n    // Handle the regular Element usage\n    if (typeof elements.addEventListener === 'function') {\n        return _delegate.apply(null, arguments);\n    }\n\n    // Handle Element-less usage, it defaults to global delegation\n    if (typeof type === 'function') {\n        // Use `document` as the first parameter, then apply arguments\n        // This is a short way to .unshift `arguments` without running into deoptimizations\n        return _delegate.bind(null, document).apply(null, arguments);\n    }\n\n    // Handle Selector-based usage\n    if (typeof elements === 'string') {\n        elements = document.querySelectorAll(elements);\n    }\n\n    // Handle Array-like based usage\n    return Array.prototype.map.call(elements, function (element) {\n        return _delegate(element, selector, type, callback, useCapture);\n    });\n}\n\n/**\n * Finds closest match and invokes callback.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Function}\n */\nfunction listener(element, selector, type, callback) {\n    return function(e) {\n        e.delegateTarget = closest(e.target, selector);\n\n        if (e.delegateTarget) {\n            callback.call(element, e);\n        }\n    }\n}\n\nmodule.exports = delegate;\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\n/**\n * Check if argument is a HTML element.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.node = function(value) {\n    return value !== undefined\n        && value instanceof HTMLElement\n        && value.nodeType === 1;\n};\n\n/**\n * Check if argument is a list of HTML elements.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.nodeList = function(value) {\n    var type = Object.prototype.toString.call(value);\n\n    return value !== undefined\n        && (type === '[object NodeList]' || type === '[object HTMLCollection]')\n        && ('length' in value)\n        && (value.length === 0 || exports.node(value[0]));\n};\n\n/**\n * Check if argument is a string.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.string = function(value) {\n    return typeof value === 'string'\n        || value instanceof String;\n};\n\n/**\n * Check if argument is a function.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.fn = function(value) {\n    var type = Object.prototype.toString.call(value);\n\n    return type === '[object Function]';\n};\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\nfunction select(element) {\n    var selectedText;\n\n    if (element.nodeName === 'SELECT') {\n        element.focus();\n\n        selectedText = element.value;\n    }\n    else if (element.nodeName === 'INPUT' || element.nodeName === 'TEXTAREA') {\n        var isReadOnly = element.hasAttribute('readonly');\n\n        if (!isReadOnly) {\n            element.setAttribute('readonly', '');\n        }\n\n        element.select();\n        element.setSelectionRange(0, element.value.length);\n\n        if (!isReadOnly) {\n            element.removeAttribute('readonly');\n        }\n\n        selectedText = element.value;\n    }\n    else {\n        if (element.hasAttribute('contenteditable')) {\n            element.focus();\n        }\n\n        var selection = window.getSelection();\n        var range = document.createRange();\n\n        range.selectNodeContents(element);\n        selection.removeAllRanges();\n        selection.addRange(range);\n\n        selectedText = selection.toString();\n    }\n\n    return selectedText;\n}\n\nmodule.exports = select;\n\n\n/***/ })\n/******/ ]);\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/clipboard/dist/clipboard.js\n// module id = TQvf\n// module chunks = 0","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/classCallCheck.js\n// module id = Zrlr\n// module chunks = 0","function arrayConcat(array, newArray) {\n  if (Array.isArray(array) && Array.isArray(newArray)) {\n    let arrayBox = [...array]\n    newArray.forEach((single, index) => {\n      if (Number(single.time) > Number(array[array.length - 1].time)) {\n        arrayBox.push(single)\n      }\n    })\n    return arrayBox\n  }\n}\nexport const dataRange = [{\n    'text': '1小时',\n    'value': 3600\n  }, {\n    'text': '3小时',\n    'value': 10800\n  }, {\n    'text': '12小时',\n    'value': 43200\n  }, {\n    'text': '1天',\n    'value': 86400\n  }, {\n    'text': '3天',\n    'value': 259200\n  }, {\n    'text': '7天',\n    'value': 604800\n  }, {\n    'text': '1个月',\n    'value': 2592000\n  }, {\n    'text': '6个月',\n    'value': 15552000\n  }, {\n    'text': '1年',\n    'value': 31536000\n  }]\nexport const skill = {\n  arrayConcat(array, newArray) {\n    return arrayConcat(array, newArray)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/skill.js","import _ from 'lodash'\nimport {\n  traceSummary,\n  getGroupedTimestamps,\n  getServiceDurations,\n  getServiceNames,\n  getServiceName,\n  mkDurationStr\n} from './traceSummary'\nimport {Constants, ConstantNames} from './traceConstants'\n\nexport function getRootSpans (spans) {\n  const ids = spans.map((s) => s.id)\n  return spans.filter((s) => ids.indexOf(s.parentId) === -1)\n}\n\nfunction compareSpan (s1, s2) {\n  return (s1.timestamp || 0) - (s2.timestamp || 0)\n}\n\nfunction childrenToList (entry) {\n  const deepChildren = _(entry.children || [])\n    .sort((e1, e2) => compareSpan(e1.span, e2.span))\n    .flatMap(childrenToList).value()\n  return [entry.span, ...deepChildren]\n}\n\nfunction createSpanTreeEntry (span, trace, indexByParentId = null) {\n  const idx = indexByParentId != null ? indexByParentId : _(trace)\n    .filter((s) => s.parentId != null)\n    .groupBy((s) => s.parentId)\n    .value()\n\n  return {\n    span,\n    children: (idx[span.id] || [])\n      .map((s) => createSpanTreeEntry(s, trace, idx))\n  }\n}\n\nfunction recursiveGetRootMostSpan (idSpan, prevSpan) {\n  if (prevSpan.parentId && idSpan[prevSpan.parentId]) {\n    return recursiveGetRootMostSpan(idSpan, idSpan[prevSpan.parentId])\n  } else {\n    return prevSpan\n  }\n}\n\nfunction getRootMostSpan (spans) {\n  const firstWithoutParent = _(spans).find((s) => !s.parentId)\n  if (firstWithoutParent) {\n    return firstWithoutParent\n  } else {\n    const idToSpanMap = _(spans).groupBy((s) => s.id).mapValues(([s]) => s)\n    return recursiveGetRootMostSpan(idToSpanMap, spans[0])\n  }\n}\n\nfunction treeDepths (entry, startDepth) {\n  const initial = {}\n  initial[entry.span.id] = startDepth\n  if (entry.children.length === 0) {\n    return initial\n  }\n  return _(entry.children || []).reduce((prevMap, child) => {\n    const childDepths = treeDepths(child, startDepth + 1)\n    const newCombined = {\n      ...prevMap,\n      ...childDepths\n    }\n    return newCombined\n  }, initial)\n}\n\nfunction toSpanDepths (spans) {\n  const rootMost = getRootMostSpan(spans)\n  const entry = createSpanTreeEntry(rootMost, spans)\n  return treeDepths(entry, 1)\n}\n\nexport function formatEndpoint ({ipv4, ipv6, port, serviceName}) {\n  if (ipv4 || ipv6) {\n    const ip = ipv6 ? `[${ipv6}]` : ipv4 // arbitrarily prefer ipv6\n    const portString = port ? `:${port}` : ''\n    const serviceNameString = serviceName ? ` (${serviceName})` : ''\n    return ip + portString + serviceNameString\n  } else {\n    return serviceName || ''\n  }\n}\nfunction findTrace(span, parameter) {\n  let detail = {\n    annotations: span.annotations,\n    isTraceStatus: true\n  }\n  if (Array.isArray(span.binaryAnnotations) && span.binaryAnnotations.length > 0) {\n    span.binaryAnnotations.forEach((item) => {\n      parameter.forEach(single => {\n        if (item.key === single) {\n          detail[single] = item.value\n        }\n      })\n    })\n    detail.isTraceStatus = !(span.binaryAnnotations.some((item) => {\n      let ck = false\n      if (item.key === 'exception') {\n        ck = true\n      } else {\n        if (item.key === 'RET_STATUS' && item.value !== 'S') {\n          ck = true\n        }\n        if (item.key === 'status' && item.value !== 'success') {\n          ck = true\n        }\n      }\n      return ck\n    }))\n  }\n  return detail\n}\n// 交易流水号\nexport function traceSpanSeqno(trace, parameter = null) {\n  if (!parameter) {\n    return false\n  }\n  const traceTimestamp = trace[0].timestamp || 0\n  const groupByParentId = _(trace).groupBy((s) => s.parentId).value()\n  const spans = _(getRootSpans(trace)).flatMap(\n    (rootSpan) => childrenToList(createSpanTreeEntry(rootSpan, trace))).map((span) => {\n    const spanStartTs = span.timestamp || traceTimestamp\n    let errorType = 'none'\n\n    const binaryAnnotations = (span.binaryAnnotations || [])\n      // empty \"lc\" tags are just a hack for \"Local Address\" which is processed below\n      .filter((a) => a.key !== Constants.LOCAL_COMPONENT || a.value.length > 0)\n      .map((a) => {\n        if (a.key === Constants.ERROR) {\n          errorType = 'critical'\n        }\n        const key = ConstantNames[a.key] || a.key\n        if (Constants.CORE_ADDRESS.indexOf(a.key) !== -1) {\n          return {\n            ...a,\n            key,\n            value: formatEndpoint(a.endpoint)\n          }\n        }\n        return {\n          ...a,\n          key\n        }\n      })\n\n    if (errorType !== 'critical') {\n      if (_(span.annotations || []).findIndex(ann => ann.value === Constants.ERROR) !== -1) {\n        errorType = 'transient'\n      }\n    }\n\n    const localComponentAnnotation = _(span.binaryAnnotations || [])\n      .find((s) => s.key === Constants.LOCAL_COMPONENT)\n    if (localComponentAnnotation && localComponentAnnotation.endpoint) {\n      binaryAnnotations.push({\n        ...localComponentAnnotation,\n        key: 'Local Address',\n        value: formatEndpoint(localComponentAnnotation.endpoint)\n      })\n    }\n\n    return {\n      spanId: span.id,\n      parentId: span.parentId || null,\n      spanName: span.name,\n      serviceNames: getServiceNames(span).join(','),\n      serviceName: getServiceName(span) || '',\n      duration: span.duration,\n      durationStr: mkDurationStr(span.duration),\n      children: (groupByParentId[span.id] || []).map((s) => s.id).join(','),\n      annotations: (span.annotations || []).map((a) => ({\n        isCore: Constants.CORE_ANNOTATIONS.indexOf(a.value) !== -1,\n        left: (a.timestamp - spanStartTs) / span.duration * 100,\n        endpoint: a.endpoint ? formatEndpoint(a.endpoint) : null,\n        valueName: a.value,\n        value: ConstantNames[a.value] || a.value,\n        timestamp: a.timestamp,\n        relativeTime: mkDurationStr(a.timestamp - traceTimestamp),\n        width: 8\n      })),\n      binaryAnnotations,\n      errorType\n    }\n  }).value()\n  let query = {\n    spans: spans\n  }\n  if (spans.length > 0) {\n    return Object.assign(query, findTrace(spans[0], parameter))\n  } else {\n    return query\n  }\n}\nexport default function traceToMustache (trace, logsUrl = undefined) {\n  const summary = traceSummary(trace)\n  const traceId = summary.traceId\n  const duration = mkDurationStr(summary.duration)\n  const groupedTimestamps = getGroupedTimestamps(summary)\n  const serviceDurations = getServiceDurations(groupedTimestamps)\n  const services = serviceDurations.length || 0\n  const serviceCounts = _(serviceDurations).sortBy('name').value()\n  const groupByParentId = _(trace).groupBy((s) => s.parentId).value()\n\n  const traceTimestamp = trace[0].timestamp || 0\n  const spanDepths = toSpanDepths(trace)\n\n  const depth = Math.max(..._.values(spanDepths))\n\n  const spans = _(getRootSpans(trace)).flatMap(\n    (rootSpan) => childrenToList(createSpanTreeEntry(rootSpan, trace))).map((span) => {\n    const spanStartTs = span.timestamp || traceTimestamp\n      const spanDepth = spanDepths[span.id] || 1\n      const width = (span.duration || 0) / summary.duration * 100\n      let errorType = 'none'\n\n      const binaryAnnotations = (span.binaryAnnotations || [])\n      // empty \"lc\" tags are just a hack for \"Local Address\" which is processed below\n      .filter((a) => a.key !== Constants.LOCAL_COMPONENT || a.value.length > 0)\n      .map((a) => {\n        if (a.key === Constants.ERROR) {\n          errorType = 'critical'\n        }\n        const key = ConstantNames[a.key] || a.key\n        if (Constants.CORE_ADDRESS.indexOf(a.key) !== -1) {\n          return {\n            ...a,\n            key,\n            value: formatEndpoint(a.endpoint)\n          }\n        }\n        return {\n          ...a,\n          key\n        }\n      })\n\n      if (errorType !== 'critical') {\n      if (_(span.annotations || []).findIndex(ann => ann.value === Constants.ERROR) !== -1) {\n        errorType = 'transient'\n        }\n    }\n\n    const localComponentAnnotation = _(span.binaryAnnotations || [])\n      .find((s) => s.key === Constants.LOCAL_COMPONENT)\n      if (localComponentAnnotation && localComponentAnnotation.endpoint) {\n      binaryAnnotations.push({\n        ...localComponentAnnotation,\n        key: 'Local Address',\n        value: formatEndpoint(localComponentAnnotation.endpoint)\n      })\n      }\n\n    return {\n      spanId: span.id,\n      parentId: span.parentId || null,\n      spanName: span.name,\n      serviceNames: getServiceNames(span).join(','),\n      serviceName: getServiceName(span) || '',\n      duration: span.duration,\n      durationStr: mkDurationStr(span.duration),\n      left: parseFloat(spanStartTs - traceTimestamp) / parseFloat(summary.duration) * 100,\n      width: width < 0.1 ? 0.1 : width,\n      depth: (spanDepth + 1) * 5,\n      depthClass: (spanDepth - 1) % 6,\n      children: (groupByParentId[span.id] || []).map((s) => s.id).join(','),\n      annotations: (span.annotations || []).map((a) => ({\n        isCore: Constants.CORE_ANNOTATIONS.indexOf(a.value) !== -1,\n        left: (a.timestamp - spanStartTs) / span.duration * 100,\n        endpoint: a.endpoint ? formatEndpoint(a.endpoint) : null,\n        valueName: a.value,\n        value: ConstantNames[a.value] || a.value,\n        timestamp: a.timestamp,\n        relativeTime: mkDurationStr(a.timestamp - traceTimestamp),\n        width: 8\n      })),\n      binaryAnnotations,\n      errorType\n    }\n  }).value()\n\n  const totalSpans = spans.length\n  const timeMarkers = [0.0, 0.2, 0.4, 0.6, 0.8, 1.0]\n    .map((p, index) => ({index, time: mkDurationStr(summary.duration * p)}))\n  const timeMarkersBackup = timeMarkers\n  const spansBackup = spans\n\n  return {\n    traceId,\n    duration,\n    services,\n    depth,\n    totalSpans,\n    serviceCounts,\n    timeMarkers,\n    timeMarkersBackup,\n    spans,\n    spansBackup,\n    logsUrl\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/traceToMustache.js","// eslint-disable no-nested-ternary\nimport _ from 'lodash'\n// import moment from 'moment'\n\nimport {Constants} from './traceConstants'\nimport {traceSpanSeqno} from '@/utils/traceToMustache'\nfunction endpointsForSpan (span) {\n  return _.union(\n    (span.annotations || []).map(a => a.endpoint),\n    (span.binaryAnnotations || []).map(a => a.endpoint)\n  ).filter(h => h != null)\n}\n\n// What's the total duration of the spans in this trace?\nexport function traceDuration (spans) {\n  function makeList ({timestamp, duration}) {\n    if (!timestamp) {\n      return []\n    } else if (!duration) {\n      return [timestamp]\n    } else {\n      return [timestamp, timestamp + duration]\n    }\n  }\n\n  // turns (timestamp, timestamp + duration) into an ordered list\n  const timestamps = _(spans).flatMap(makeList).sort().value()\n\n  if (timestamps.length < 2) {\n    return null\n  } else {\n    const first = _.head(timestamps)\n    const last = _.last(timestamps)\n    return last - first\n  }\n}\n\nexport function getServiceNames (span) {\n  return _(endpointsForSpan(span))\n    .map((ep) => ep.serviceName)\n    .filter((name) => name != null && name !== '')\n    .uniq().value()\n}\n\nfunction findServiceNameForBinaryAnnotation (span, key) {\n  const binaryAnnotation = _(span.binaryAnnotations || []).find((ann) =>\n    ann.key === key &&\n            ann.endpoint != null &&\n            ann.endpoint.serviceName != null &&\n            ann.endpoint.serviceName !== '')\n  return binaryAnnotation ? binaryAnnotation.endpoint.serviceName : null\n}\n\nfunction findServiceNameForAnnotation (span, values) {\n  const annotation = _(span.annotations || []).find((ann) =>\n    values.indexOf(ann.value) !== -1 &&\n            ann.endpoint != null &&\n            ann.endpoint.serviceName != null &&\n            ann.endpoint.serviceName !== '')\n  return annotation ? annotation.endpoint.serviceName : null\n}\n\nexport function getServiceName (span) {\n  // Most authoritative is the label of the server's endpoint\n  const serverAddressServiceName = findServiceNameForBinaryAnnotation(span, Constants.SERVER_ADDR)\n  if (serverAddressServiceName) {\n    return serverAddressServiceName\n  }\n\n  // Next, the label of any server annotation, logged by an instrumented server\n  const serverAnnotationServiceName = findServiceNameForAnnotation(span, Constants.CORE_SERVER)\n  if (serverAnnotationServiceName) {\n    return serverAnnotationServiceName\n  }\n\n  // Next, the label of any messaging annotation, logged by an instrumented producer or consumer\n  const messageAnnotationServiceName = findServiceNameForAnnotation(span, Constants.CORE_MESSAGE)\n  if (messageAnnotationServiceName) {\n    return messageAnnotationServiceName\n  }\n\n  // Next is the label of the client's endpoint\n  const clientAddressServiceName = findServiceNameForBinaryAnnotation(span, Constants.CLIENT_ADDR)\n  if (clientAddressServiceName) {\n    return clientAddressServiceName\n  }\n\n  // Next is the label of any client annotation, logged by an instrumented client\n  const clientAnnotationServiceName = findServiceNameForAnnotation(span, Constants.CORE_CLIENT)\n  if (clientAnnotationServiceName) {\n    return clientAnnotationServiceName\n  }\n\n  // Next is the label of the broker's endpoint\n  const brokerAddressServiceName = findServiceNameForBinaryAnnotation(span, Constants.MESSAGE_ADDR)\n  if (brokerAddressServiceName) {\n    return brokerAddressServiceName\n  }\n\n  // Then is the label of the local component's endpoint\n  const localServiceName = findServiceNameForBinaryAnnotation(span, Constants.LOCAL_COMPONENT)\n  if (localServiceName) {\n    return localServiceName\n  }\n\n  // Finally, anything so that the service name isn't blank!\n  const allServiceNames = getServiceNames(span)\n  return allServiceNames.length === 0 ? null : allServiceNames[0]\n}\n\nfunction getSpanTimestamps (spans) {\n  return _(spans).flatMap((span) => getServiceNames(span).map((serviceName) => ({\n    name: serviceName,\n    timestamp: span.timestamp,\n    duration: span.duration\n  }))).value()\n}\n\n// returns 'critical' if one of the spans has an ERROR binary annotation, else\n// returns 'transient' if one of the spans has an ERROR annotation, else\n// returns 'none'\nexport function getTraceErrorType (spans) {\n  let traceType = 'none'\n  for (let i = 0; i < spans.length; i++) {\n    const span = spans[i]\n    if (_(span.binaryAnnotations || []).findIndex(ann => ann.key === Constants.ERROR) !== -1) {\n      return 'critical'\n    } else if (traceType === 'none' &&\n               _(span.annotations || []).findIndex(ann => ann.value === Constants.ERROR) !== -1) {\n      traceType = 'transient'\n    }\n  }\n  return traceType\n}\n\nfunction endpointEquals (e1, e2) {\n  return (e1.ipv4 === e2.ipv4 || e1.ipv6 === e2.ipv6) &&\n    e1.port === e2.port && e1.serviceName === e2.serviceName\n}\n\nexport function traceSummary(spans = [], parameter) {\n  if (spans.length === 0 || !spans[0].timestamp) {\n    return null\n  } else {\n    const duration = traceDuration(spans) || 0\n    const endpoints = _(spans).flatMap(endpointsForSpan).uniqWith(endpointEquals).value()\n    const traceId = spans[0].traceId\n    const name = spans[0].name\n    const timestamp = spans[0].timestamp\n    const spanTimestamps = getSpanTimestamps(spans)\n    const errorType = getTraceErrorType(spans)\n    const totalSpans = spans.length\n    const traceSeqNo = traceSpanSeqno(spans, parameter) || {}\n    return {\n      name,\n      traceSeqNo,\n      traceId,\n      timestamp,\n      duration,\n      spanTimestamps,\n      endpoints,\n      errorType,\n      totalSpans\n    }\n  }\n}\n\nexport function totalServiceTime (stamps, acc = 0) {\n  // This is a recursive function that performs arithmetic on duration\n  // If duration is undefined, it will infinitely recurse. Filter out that case\n  const filtered = stamps.filter((s) => s.duration)\n  if (filtered.length === 0) {\n    return acc\n  } else {\n    const ts = _(filtered).minBy((s) => s.timestamp)\n    const [current, next] = _(filtered)\n      .partition((t) =>\n        t.timestamp >= ts.timestamp &&\n          t.timestamp + t.duration <= ts.timestamp + ts.duration)\n      .value()\n    const endTs = Math.max(...current.map((t) => t.timestamp + t.duration))\n    return totalServiceTime(next, acc + (endTs - ts.timestamp))\n  }\n}\n\nfunction formatDate (timestamp, utc) {\n  // let m = moment(timestamp / 1000)\n  // if (utc) {\n  //   m = m.utc()\n  // }\n  // return m.format('MM-DD-YYYYTHH:mm:ss.SSSZZ')\n  let ck = Math.trunc(timestamp / 1000)\n  return ck\n}\n\nexport function getGroupedTimestamps (summary) {\n  return _(summary.spanTimestamps).groupBy((sts) => sts.name).value()\n}\n\nexport function getServiceDurations (groupedTimestamps) {\n  return _(groupedTimestamps).toPairs().map(([name, sts]) => ({\n    name,\n    count: sts.length,\n    max: parseInt(Math.max(...sts.map(t => t.duration)) / 1000, 10)\n  })).sortBy('name').value()\n}\n\nexport function mkDurationStr (duration) {\n  if (duration === 0 || typeof duration === 'undefined') {\n    return ''\n  } else if (duration < 1000) {\n    return `${duration}μ`\n  } else if (duration < 1000000) {\n    return `${(duration / 1000).toFixed(3)}ms`\n  } else {\n    return `${(duration / 1000000).toFixed(3)}s`\n  }\n}\n\nfunction removeEmptyFromArray (array) {\n  const newArray = []\n  for (let i = 0; i < array.length; i++) {\n    if (array[i]) {\n      newArray.push(array[i])\n    }\n  }\n  return newArray\n}\n\nexport function traceSummariesToMustache (serviceName = null, traceSummaries, utc = false) {\n  if (traceSummaries.length === 0) {\n    return []\n  } else {\n    const traceSummariesCleaned = removeEmptyFromArray(traceSummaries)\n    const maxDuration = Math.max(...traceSummariesCleaned.map((s) => s.duration)) / 1000\n\n    return traceSummariesCleaned.map((t) => {\n      const duration = t.duration / 1000\n      const groupedTimestamps = getGroupedTimestamps(t)\n      const serviceDurations = getServiceDurations(groupedTimestamps)\n\n      let serviceTime\n      if (!serviceName || !groupedTimestamps[serviceName]) {\n        serviceTime = 0\n      } else {\n        serviceTime = totalServiceTime(groupedTimestamps[serviceName])\n      }\n\n      const startTs = formatDate(t.timestamp, utc)\n      const durationStr = mkDurationStr(t.duration)\n      const servicePercentage = parseInt(\n        parseFloat(serviceTime) / parseFloat(t.duration) * 100,\n        10)\n      const width = parseInt(parseFloat(duration) / parseFloat(maxDuration) * 100, 10)\n      const infoClass = t.errorType === 'none' ? '' : `trace-error-${t.errorType}`\n\n      return {\n        traceId: t.traceId,\n        traceSeqNo: t.traceSeqNo, // 交易流水号\n        name: t.name,\n        startTs,\n        timestamp: t.timestamp,\n        duration,\n        durationStr,\n        servicePercentage,\n        totalSpans: t.totalSpans,\n        serviceDurations,\n        width,\n        infoClass\n      }\n    }).sort((t1, t2) => {\n      const durationComparison = t2.duration - t1.duration\n      if (durationComparison === 0) {\n        return t1.traceId.localeCompare(t2.traceId)\n      } else {\n        return durationComparison\n      }\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/traceSummary.js","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.define-property.js\n// module id = mClu\n// module chunks = 0","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/createClass.js\n// module id = wxAW\n// module chunks = 0"],"sourceRoot":""}