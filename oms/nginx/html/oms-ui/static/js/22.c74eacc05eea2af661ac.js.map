{"version":3,"sources":["webpack:///src/components/service/accessControl.vue","webpack:///./src/components/service/accessControl.vue?4882","webpack:///./src/components/service/accessControl.vue"],"names":["accessControl","name","data","that","this","currentPage","totalPage","loading","limitForm","inputRules","url","required","message","trigger","pattern","serverid","type","value","starttime","endtime","dataBox","limitList","popBox","popForm","methods","handleCurrentChange","val","search","_this","query","assign_default","JSON","parse","stringify_default","$message","$axios","method","Api","serviceAccessFind","then","res","length","conmmonMethods","arrayHandle","catch","error","handleAdd","Date","popOk","title","_this2","$refs","validate","valid","_popForm","getTime","serviceAccessAdd","showClose","cancel","resetFields","LimitDelete","props","_this3","makePopBox","_JSON$parse","row","serviceAccessDelete","filters","timeHandle","$moment","trunc_default","format","service_accessControl","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","$route","meta","attrs","icon","size","on","click","$event","$t","ref","model","label-width","label-position","rules","gutter","xl","lg","label","prop","clearable","placeholder","maxlength","callback","$$v","$set","trim","expression","directives","rawName","staticStyle","width","stripe","align","min-width","scopedSlots","_u","key","fn","_f","fixed","current-page","page-size","layout","background","total","current-change","visible","center","close","update:visible","status-icon","span","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/22.c74eacc05eea2af661ac.js","sourcesContent":["<template>\n <div class=\"accessControl\">\n    <div class=\"button-group\">\n      <span class=\"route-name\">{{$route.meta.title}}</span>\n      <el-button icon=\"el-icon-plus\"  size=\"small\" @click=\"handleAdd()\" type=\"warning\">{{$t('common.add')}}</el-button>\n    </div>\n    <el-form :model=\"limitForm\" ref=\"limitForm\" label-width=\"94px\" label-position=\"right\" size=\"small\"  :rules=\"inputRules\">\n      <el-row class=\"label-first\" :gutter=\"20\">\n        <el-col :xl=\"4\" :lg=\"6\">\n          <el-form-item :label=\"$t('service.limit.url')+'：'\" prop=\"url\">\n            <el-input type=\"text\" v-model.trim=\"limitForm.url\" clearable placeholder=\"eg:ip:port\" maxlength=\"25\"></el-input>\n          </el-form-item>\n        </el-col>\n        <el-col :xl=\"4\" :lg=\"6\">\n          <el-button size=\"small\" type=\"primary\" icon=\"el-icon-search\" @click=\"search()\">{{$t('common.search')}}</el-button>\n        </el-col>\n      </el-row>\n    </el-form>\n    <!-- 表格部分 -->\n    <el-table\n      stripe\n      :data=\"limitList\"\n      v-loading=\"loading\"\n      ref=\"multipleTable\"\n      style=\"width: 100%;\">\n          <!-- 服务名 -->\n          <el-table-column\n            align=\"center\"\n            min-width=\"300\"\n            prop=\"serverid\"\n            :label=\"$t('service.serviceList.serviceName')\">\n          </el-table-column>\n          <el-table-column\n            align=\"center\"\n            prop=\"type\"\n            :label=\"$t('service.limit.type')\">\n          </el-table-column>\n          <el-table-column\n            align=\"center\"\n            prop=\"value\"\n            :label=\"$t('service.limit.value')\">\n          </el-table-column>\n          <el-table-column\n            align=\"center\"\n            prop=\"starttime\"\n            :label=\"$t('service.limit.starttime')\">\n            <template slot-scope=\"props\">\n                {{props.row.starttime | timeHandle(that)}}\n            </template>\n          </el-table-column>\n          <el-table-column\n            align=\"center\"\n            prop=\"endtime\"\n            :label=\"$t('service.limit.endtime')\">\n            <template slot-scope=\"props\">\n                {{props.row.endtime | timeHandle(that)}}\n            </template>\n          </el-table-column>\n          <el-table-column\n            align=\"center\"\n            prop=\"url\"\n            :label=\"$t('service.limit.url')\">\n          </el-table-column>\n          <el-table-column\n            width=\"80\"\n            :label=\"$t('common.operation')\"\n            fixed=\"right\"\n            align=\"center\">\n            <template slot-scope=\"props\">\n              <el-button type=\"text\" size=\"mini\" icon=\"fa fa-pencil-square-o\" @click=\"LimitDelete(props)\">{{$t('common.delete')}}</el-button>\n            </template>\n          </el-table-column>\n    </el-table>\n    <!-- 翻页部分 -->\n    <div class=\"block\">\n      <el-pagination\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"currentPage\"\n        :page-size=\"10\"\n        layout=\"total, prev, pager, next, jumper\"\n        background\n        :total=\"totalPage\">\n      </el-pagination>\n    </div>\n    <!-- 弹出框 -->\n    <el-dialog :title=\"'添加访问控制'\" @close=\"cancel()\" :visible.sync=\"popBox\" width=\"35%\" center>\n      <el-form ref=\"popForm\" :model=\"popForm\" label-width=\"120px\" size=\"small\" status-icon :rules=\"inputRules\">\n        <el-row>\n          <el-col :span=\"24\">\n            <el-form-item :label=\"$t('service.serviceList.serviceName')+'：'\" prop=\"serverid\">\n              <el-input type=\"text\" v-model.trim=\"popForm.serverid\" placeholder=\"eg:MBSD_GA-1400-0101\" maxlength=\"100\"  clearable></el-input>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"24\">\n            <el-form-item :label=\"$t('service.limit.type')+'：'\" prop=\"type\">\n              <el-input type=\"text\" v-model.trim=\"popForm.type\" placeholder=\"eg:sourceType\" maxlength=\"50\" clearable></el-input>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"24\">\n            <el-form-item :label=\"$t('service.limit.value')+'：'\" prop=\"value\">\n              <el-input type=\"text\" v-model.trim=\"popForm.value\" placeholder=\"eg:AM\" maxlength=\"50\" clearable></el-input>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"24\">\n            <el-form-item :label=\"$t('service.limit.starttime')+'：'\" prop=\"starttime\">\n                <el-date-picker\n                    v-model=\"popForm.starttime\"\n                    type=\"datetime\"\n                    placeholder=\"选择日期时间\">\n                </el-date-picker>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"24\">\n            <el-form-item :label=\"$t('service.limit.endtime')+'：'\" prop=\"endtime\">\n                <el-date-picker\n                    v-model=\"popForm.endtime\"\n                    type=\"datetime\"\n                    placeholder=\"选择日期时间\">\n                </el-date-picker>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"24\">\n            <el-form-item :label=\"$t('service.limit.url')+'：'\" prop=\"url\"  placeholder=\"for example：10.7.94.147:8012\">\n              <el-input type=\"text\" v-model.trim=\"popForm.url\" placeholder=\"eg:ip:port\" maxlength=\"25\" clearable></el-input>\n            </el-form-item>\n          </el-col>\n        </el-row>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"popOk('popForm')\" size=\"small\">{{$t('common.ok')}}</el-button>\n        <el-button @click=\"cancel()\" size=\"small\">{{$t('common.cancel')}}</el-button>\n      </div>\n    </el-dialog>\n </div>\n</template>\n\n<script type=\"text/ecmascript-6\">\nimport Api from '@/constants/Api.js'\nexport default {\n    name: 'accessControl',\n    data() {\n        return {\n            that: this,\n            currentPage: 1, // 当前页数\n            totalPage: 0, // 总页数\n            loading: false,\n            limitForm: {},\n            inputRules: {\n                url: [\n                    { required: true, message: '请输入ip端口', trigger: 'blur' },\n                    // eslint-disable-next-line\n                    { pattern: /^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\:([0-9]|[1-9]\\d{1,3}|[1-5]\\d{4}|6[0-5]{2}[0-3][0-5])$/, message: '输入值必须为IP+端口' }\n                ],\n                serverid: [\n                    { required: true, message: '请输入服务名', trigger: 'blur' }\n                ],\n                type: [\n                    { required: true, message: '请输入限制类型', trigger: 'blur' }\n                ],\n                value: [\n                    { required: true, message: '请输入限制值', trigger: 'blur' }\n                ],\n                starttime: [\n                    { required: true, message: '请输入限制开始时间', trigger: 'blur' }\n                ],\n                endtime: [\n                    { required: true, message: '请输入限制结束时间', trigger: 'blur' }\n                ]\n            },\n            // 全部数据\n            dataBox: [],\n            limitList: [],\n            // 弹出框\n            popBox: false,\n            // 弹出框模板\n            popForm: {}\n        }\n    },\n    methods: {\n        // 翻页事件\n        handleCurrentChange(val) {\n            this.currentPage = val\n            this.limitList = this.dataBox[this.currentPage - 1]\n        },\n        search() {\n            const query = Object.assign({}, JSON.parse(JSON.stringify(this.limitForm)))\n            let {url} = query\n            if (!url) {\n                this.$message({\n                    message: '值不能为空',\n                    type: 'warning'\n                })\n                return false\n            }\n            this.loading = true\n            this.$axios({\n                method: 'post',\n                url: Api.serviceAccessFind,\n                data: query\n            }).then((res) => {\n                let data = JSON.parse(JSON.stringify(res.data))\n                this.totalPage = data.length\n                this.dataBox = this.conmmonMethods.arrayHandle(data)\n                this.limitList = this.dataBox[this.currentPage - 1]\n                this.loading = false\n            }).catch((error) => {\n              this.loading = false\n              this.totalPage = 0\n              this.dataBox = []\n              this.currentPage = 1\n              this.limitList = []\n              this.$message.error(error.data.message || error.message || error)\n            })\n        },\n        handleAdd() {\n            this.popForm = {\n                starttime: new Date(),\n                endtime: new Date()\n            }\n            this.popBox = true\n        },\n        popOk(title) {\n          this.$refs[title].validate((valid) => {\n            if (valid) {\n              let {serverid, type, value, starttime, endtime, url} = this.popForm\n              starttime = starttime.getTime()\n              endtime = endtime.getTime()\n              const query = Object.assign({}, {serverid, type, value, starttime, endtime, url})\n              this.loading = true\n              this.$axios({\n                  method: 'post',\n                  url: Api.serviceAccessAdd,\n                  data: query\n              }).then((res) => {\n                  this.$message({\n                      message: '新增成功',\n                      type: 'success'\n                  })\n                  this.limitForm.url = query.url\n                  this.search()\n              }).catch((error) => {\n                this.loading = false\n                this.$message.error(error.data.message || error.message || error)\n              })\n              this.popBox = false\n            } else {\n              this.$message({\n                showClose: true,\n                message: '带*不能为空',\n                type: 'warning'\n              })\n            }\n          })\n        },\n        cancel() {\n          this.$refs.popForm.resetFields()\n          this.popBox = false\n        },\n        LimitDelete(props) {\n          this.conmmonMethods.makePopBox(this, '删除').then(() => {\n              let {serverid, type, value, starttime, endtime, url} = JSON.parse(JSON.stringify(props.row))\n              let query = Object.assign({}, {serverid, type, value, starttime, endtime, url})\n              this.loading = true\n              this.$axios({\n                method: 'post',\n                url: Api.serviceAccessDelete,\n                data: query\n              }).then((res) => {\n                this.$message({\n                    message: '删除成功',\n                    type: 'success'\n                })\n                this.limitForm.url = query.url\n                this.search()\n              }).catch((error) => {\n                this.loading = false\n                this.$message.error(error.data.message || error.message || error)\n              })\n          })\n        }\n    },\n    filters: {\n      timeHandle(value, that) {\n        let va = that.$moment(Math.trunc(value)).format('YYYY-MM-DD HH:mm:ss')\n        return va\n      }\n    }\n}\n</script>\n\n<style scoped lang=\"scss\">\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/service/accessControl.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"accessControl\"},[_c('div',{staticClass:\"button-group\"},[_c('span',{staticClass:\"route-name\"},[_vm._v(_vm._s(_vm.$route.meta.title))]),_vm._v(\" \"),_c('el-button',{attrs:{\"icon\":\"el-icon-plus\",\"size\":\"small\",\"type\":\"warning\"},on:{\"click\":function($event){_vm.handleAdd()}}},[_vm._v(_vm._s(_vm.$t('common.add')))])],1),_vm._v(\" \"),_c('el-form',{ref:\"limitForm\",attrs:{\"model\":_vm.limitForm,\"label-width\":\"94px\",\"label-position\":\"right\",\"size\":\"small\",\"rules\":_vm.inputRules}},[_c('el-row',{staticClass:\"label-first\",attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"xl\":4,\"lg\":6}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('service.limit.url')+'：',\"prop\":\"url\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"clearable\":\"\",\"placeholder\":\"eg:ip:port\",\"maxlength\":\"25\"},model:{value:(_vm.limitForm.url),callback:function ($$v) {_vm.$set(_vm.limitForm, \"url\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"limitForm.url\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"xl\":4,\"lg\":6}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":function($event){_vm.search()}}},[_vm._v(_vm._s(_vm.$t('common.search')))])],1)],1)],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"multipleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"stripe\":\"\",\"data\":_vm.limitList}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"min-width\":\"300\",\"prop\":\"serverid\",\"label\":_vm.$t('service.serviceList.serviceName')}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"type\",\"label\":_vm.$t('service.limit.type')}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"value\",\"label\":_vm.$t('service.limit.value')}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"starttime\",\"label\":_vm.$t('service.limit.starttime')},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_vm._v(\"\\n               \"+_vm._s(_vm._f(\"timeHandle\")(props.row.starttime,_vm.that))+\"\\n           \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"endtime\",\"label\":_vm.$t('service.limit.endtime')},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_vm._v(\"\\n               \"+_vm._s(_vm._f(\"timeHandle\")(props.row.endtime,_vm.that))+\"\\n           \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"url\",\"label\":_vm.$t('service.limit.url')}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"80\",\"label\":_vm.$t('common.operation'),\"fixed\":\"right\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"fa fa-pencil-square-o\"},on:{\"click\":function($event){_vm.LimitDelete(props)}}},[_vm._v(_vm._s(_vm.$t('common.delete')))])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"block\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-size\":10,\"layout\":\"total, prev, pager, next, jumper\",\"background\":\"\",\"total\":_vm.totalPage},on:{\"current-change\":_vm.handleCurrentChange}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":'添加访问控制',\"visible\":_vm.popBox,\"width\":\"35%\",\"center\":\"\"},on:{\"close\":function($event){_vm.cancel()},\"update:visible\":function($event){_vm.popBox=$event}}},[_c('el-form',{ref:\"popForm\",attrs:{\"model\":_vm.popForm,\"label-width\":\"120px\",\"size\":\"small\",\"status-icon\":\"\",\"rules\":_vm.inputRules}},[_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('service.serviceList.serviceName')+'：',\"prop\":\"serverid\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":\"eg:MBSD_GA-1400-0101\",\"maxlength\":\"100\",\"clearable\":\"\"},model:{value:(_vm.popForm.serverid),callback:function ($$v) {_vm.$set(_vm.popForm, \"serverid\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"popForm.serverid\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('service.limit.type')+'：',\"prop\":\"type\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":\"eg:sourceType\",\"maxlength\":\"50\",\"clearable\":\"\"},model:{value:(_vm.popForm.type),callback:function ($$v) {_vm.$set(_vm.popForm, \"type\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"popForm.type\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('service.limit.value')+'：',\"prop\":\"value\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":\"eg:AM\",\"maxlength\":\"50\",\"clearable\":\"\"},model:{value:(_vm.popForm.value),callback:function ($$v) {_vm.$set(_vm.popForm, \"value\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"popForm.value\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('service.limit.starttime')+'：',\"prop\":\"starttime\"}},[_c('el-date-picker',{attrs:{\"type\":\"datetime\",\"placeholder\":\"选择日期时间\"},model:{value:(_vm.popForm.starttime),callback:function ($$v) {_vm.$set(_vm.popForm, \"starttime\", $$v)},expression:\"popForm.starttime\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('service.limit.endtime')+'：',\"prop\":\"endtime\"}},[_c('el-date-picker',{attrs:{\"type\":\"datetime\",\"placeholder\":\"选择日期时间\"},model:{value:(_vm.popForm.endtime),callback:function ($$v) {_vm.$set(_vm.popForm, \"endtime\", $$v)},expression:\"popForm.endtime\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('service.limit.url')+'：',\"prop\":\"url\",\"placeholder\":\"for example：10.7.94.147:8012\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":\"eg:ip:port\",\"maxlength\":\"25\",\"clearable\":\"\"},model:{value:(_vm.popForm.url),callback:function ($$v) {_vm.$set(_vm.popForm, \"url\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"popForm.url\"}})],1)],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){_vm.popOk('popForm')}}},[_vm._v(_vm._s(_vm.$t('common.ok')))]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.cancel()}}},[_vm._v(_vm._s(_vm.$t('common.cancel')))])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7fc17750\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/service/accessControl.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7fc17750\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./accessControl.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./accessControl.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./accessControl.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7fc17750\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./accessControl.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7fc17750\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/service/accessControl.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}