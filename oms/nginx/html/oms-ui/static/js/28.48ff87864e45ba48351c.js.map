{"version":3,"sources":["webpack:///src/components/zipkin/dependence.vue","webpack:///./src/components/zipkin/dependence.vue?136b","webpack:///./src/components/zipkin/dependence.vue"],"names":["dependence","name","data","loading","dependenceform","dateTime","Date","getTime","dependencyData","dialogVisible","services","dialogData","serviceName","usedBy","uses","tableTitle","dialogTable","tableData","computed","timeHorizon","this","length","startTs","endTs","watch","mounted","methods","analysis","book","conmmonMethods","makeDate","undefined","getData","$message","message","type","checkTable","_ref","_this","parent","child","keys_default","forEach","value","key","$t","callCount","errorCount","time","_this2","$axios","get","Api","zipkinDependence","params","lookback","then","links","ck","sort","a","b","item","link","push","draggable","source","target","deleteObject","echartsHandle","$refs","zipEcharts","window","addEventListener","catch","error","el","_ref2","_this3","option","title","text","backgroundColor","tooltip","textStyle","color","fontSize","animationDuration","animationEasingUpdate","series","layout","roam","symbolSize","edgeSymbol","edgeSymbolSize","edgeLabel","normal","force","repulsion","itemStyle","cursor","lineStyle","width","label","show","$echarts","init","on","setOption","resize","arry","newArray","map","u","stringify_default","indexOf","JSON","parse","zipkin_dependence","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","$route","meta","ref","attrs","model","label-width","label-position","size","gutter","xl","lg","staticStyle","range-separator","start-placeholder","end-placeholder","callback","$$v","$set","expression","click","directives","rawName","visible","update:visible","$event","slot","span","disabled","_e","_l","id","margin-top","stripe","align","prop","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/28.48ff87864e45ba48351c.js","sourcesContent":["~<template>\n    <div class=\"depandence\">\n        <div class=\"button-group\">\n            <span class=\"route-name\">{{$route.meta.title}}</span>\n        </div>\n        <div class=\"header\">\n            <el-form ref=\"dependenceform\" :model=\"dependenceform\" label-width=\"82px\" label-position=\"left\" size=\"small\">\n                <el-row :gutter=\"20\">\n                    <el-col :xl=\"8\" :lg=\"12\">\n                        <el-form-item label=\"时间范围：\">\n                            <el-date-picker\n                                v-model=\"dependenceform.dateTime\"\n                                type=\"datetimerange\"\n                                range-separator=\"-\"\n                                :start-placeholder=\"$t('common.startDate')\"\n                                :end-placeholder=\"$t('common.endDate')\"\n                                style=\"width:100%\">\n                            </el-date-picker>\n                        </el-form-item>\n                    </el-col>\n                    <el-col :xl=\"4\" :lg=\"6\">\n                        <el-button type=\"primary\" size=\"small\" @click=\"analysis\">{{$t('zipkin.analyzeDependency')}}</el-button>\n                    </el-col>\n                </el-row>\n            </el-form>\n        </div>\n        <div class=\"main\" v-loading=\"loading\">\n            <div ref=\"zipEcharts\" class=\"zipEcharts\"></div>\n        </div>\n        <!-- 使用弹出框 -->\n        <el-dialog :visible.sync=\"dialogVisible\" width=\"60%\">\n            <span slot=\"title\" class=\"dialog-title\">\n                <span>{{dialogData.serviceName}}</span>\n            </span>\n            <div class=\"zipkinDialog\">\n                <el-row>\n                    <el-col :span=\"12\">{{$t('zipkin.usedBy')}}</el-col>\n                    <el-col :span=\"12\">{{$t('zipkin.uses')}}</el-col>\n                </el-row>\n                <el-row  class=\"content\">\n                    <el-col :span=\"12\">\n                        <el-button type=\"text\" v-if=\"dialogData.usedBy.length === 0\" disabled>{{$t('zipkin.empty')}}</el-button>\n                        <el-button type=\"text\" v-for=\"value in dialogData.usedBy\" :key=\"value.id\" @click=\"checkTable({\n                                'parent':value,\n                                'child':dialogData.serviceName\n                            })\">{{value}}</el-button>\n                    </el-col>\n                    <el-col :span=\"12\">\n                        <el-button type=\"text\" v-if=\"dialogData.uses.length === 0\" disabled>{{$t('zipkin.empty')}}</el-button>\n                        <el-button type=\"text\" v-for=\"item in dialogData.uses\" :key=\"item.id\" @click=\"checkTable({\n                                'child':item,\n                                'parent':dialogData.serviceName\n                            })\">{{item}}</el-button>\n                    </el-col>\n                </el-row>\n            </div>\n        </el-dialog>\n        <!-- 调用次数弹出框 -->\n        <el-dialog :visible.sync=\"dialogTable\" width=\"60%\">\n            <span slot=\"title\" class=\"dialog-title\">\n                <span>{{tableTitle}}</span>\n            </span>\n            <el-table\n                stripe\n                :data=\"tableData\"\n                ref=\"multipleTable\"\n                style=\"width: 100%;margin-top:24px\">\n                <el-table-column\n                    align=\"center\"\n                    prop=\"key\"\n                    :label=\"$t('zipkin.key')\">\n                </el-table-column>\n                <el-table-column\n                    align=\"center\"\n                    prop=\"value\"\n                    :label=\"$t('zipkin.value')\">\n                </el-table-column>\n            </el-table>\n        </el-dialog>\n    </div>\n</template>\n<script type=\"text/ecmascript-6\">\nimport Api from '@/constants/Api.js'\nexport default {\n    name: 'depandence',\n    data() {\n        return {\n            loading: false,\n            dependenceform: {\n                dateTime: [new Date().getTime() - 86400000, new Date()]\n            },\n            dependencyData: [], // 全部数据\n            dialogVisible: false,\n            services: {},\n            dialogData: { // 弹出框数据\n                serviceName: '',\n                usedBy: '',\n                uses: ''\n            },\n            tableTitle: '', // 弹出框标题\n            dialogTable: false,\n            tableData: []\n        }\n    },\n    computed: {\n        timeHorizon() {\n            if (this.dependenceform.dateTime) {\n                if (this.dependenceform.dateTime.length > 0) {\n                    let ck = {\n                        'startTs': new Date(this.dependenceform.dateTime[0]).getTime(),\n                        'endTs': new Date(this.dependenceform.dateTime[1]).getTime()\n                    }\n                    return ck\n                } else {\n                    return null\n                }\n            } else {\n                return null\n            }\n        }\n    },\n    watch: {\n    },\n    mounted() {\n    },\n    methods: {\n        // 分析按钮\n        analysis() {\n            if (this.timeHorizon) {\n                let book = this.conmmonMethods.makeDate(this.timeHorizon)\n               if (book === 0 || book === undefined || book === null) {\n                    book = 1000\n               }\n                this.getData(book, this.timeHorizon)\n            } else {\n                this.$message({\n                    message: '不能为空',\n                    type: 'warning'\n                })\n            }\n        },\n        checkTable({parent, child}) {\n            this.tableTitle = parent + ' - > ' + child\n            Object.keys(this.dependencyData).forEach((value) => {\n                if (this.dependencyData[value].parent === parent && this.dependencyData[value].child === child) {\n                    this.tableData = [\n                        {\n                            key: this.$t('zipkin.NumberOfCalls'),\n                            value: this.dependencyData[value].callCount\n                        },\n                        {\n                            key: this.$t('zipkin.NumberOfErrors'),\n                            value: this.dependencyData[value].errorCount || 0\n                        }\n                    ]\n                }\n            })\n            this.dialogVisible = false\n            this.dialogTable = true\n        },\n        // 封装数据axios\n        getData(book, time) {\n            this.loading = true\n            this.$axios.get(Api.zipkinDependence, {\n                params: {\n                    endTs: time.endTs,\n                    lookback: book\n                }\n            }).then((links) => {\n                // console.log(links)\n                if (!links.length > 0 || links === undefined || links === null) {\n                    this.loading = false\n                    this.$message({\n                        type: 'warning',\n                        message: '无数据'\n                    })\n                    return false\n                }\n                this.dependencyData = links\n                let ck = links.sort((a, b) => a.parent - b.parent || a.child - b.child)\n                // console.log(ck)\n                this.services = {}\n                let data = {\n                    item: [],\n                    link: []\n                }\n                ck.forEach(link => {\n                    const {parent, child, callCount} = link\n\n                    this.services[parent] = this.services[parent] || {serviceName: parent, uses: [], usedBy: []}\n                    this.services[child] = this.services[child] || {serviceName: child, uses: [], usedBy: []}\n\n                    this.services[parent].uses.push(child)\n                    this.services[child].usedBy.push(parent)\n                    data.item.push({\n                        name: parent,\n                        draggable: true\n                    })\n                    data.item.push({\n                        name: child,\n                        draggable: true\n                    })\n                    data.link.push({\n                        source: parent,\n                        target: child,\n                        value: callCount\n                    })\n                })\n                data.item = this.deleteObject(data.item)\n                // console.log(this.services)\n                this.echartsHandle(this.$refs.zipEcharts, data)\n                this.loading = false\n                window.addEventListener('resize', () => {\n                    this.echartsHandle(this.$refs.zipEcharts, data)\n                })\n            }).catch((error) => {\n                this.loading = false\n                this.$message.error(error.data.message || error.message || error)\n            })\n        },\n        // 封装echarts\n        echartsHandle(el, {item, link}) {\n            let option = {\n                title: {\n                    text: '关系图'\n                },\n                backgroundColor: '#f5f5f5',\n                tooltip: {\n                },\n                textStyle: {\n                    color: '#000000', // 节点文字颜色\n                    fontSize: 12\n                },\n                animationDuration: 1000,\n                animationEasingUpdate: 'quinticInOut',\n                series: [{\n                    type: 'graph',\n                    layout: 'force',\n                    roam: true, // 界面放大和缩小\n                    symbolSize: 40, // 节点半径\n                    draggable: true,\n                    edgeSymbol: ['circle', 'arrow'], // 边两端的标记类型\n                    edgeSymbolSize: [4, 10], // 边两端的标记类型大小\n                    edgeLabel: {\n                        normal: {\n                            textStyle: {\n                                fontSize: 20\n                            }\n                        }\n                    },\n                    force: {\n                        repulsion: 1000\n                    },\n                    itemStyle: {\n                        cursor: 'pointer',\n                        normal: {\n                            color: '#409eff'\n                        }\n                    },\n                    lineStyle: {\n                        normal: {\n                            width: 2,\n                            color: '#cdd0d5'\n                        }\n                    },\n                    label: {\n                        normal: {\n                            show: true,\n                            textStyle: {}\n                        }\n                    },\n                    data: item,\n                    links: link\n                }]\n            }\n            this.$echarts.init(el).on('click', (params) => {\n                this.dialogData = this.services[params.data.name]\n                // console.log(this.dialogData)\n                this.dialogVisible = true\n            })\n            this.$echarts.init(el).setOption(option)\n            this.$echarts.init(el).resize()\n        },\n        // 数组去重\n        deleteObject(arry) {\n            let newArray = []\n            arry = arry.map((u) => { return JSON.stringify(u) })\n            arry.forEach((value) => {\n                if (newArray.indexOf(value) === -1) {\n                    newArray.push(value)\n                }\n            })\n            newArray = newArray.map((u) => { return JSON.parse(u) })\n            return newArray\n        }\n    }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.depandence{\n    display: flex;\n    flex-direction:column;\n    .main{\n        flex:1;\n        .zipEcharts{\n            width: 100%;min-height: 500px;\n        }\n    }\n    .el-dialog{\n        .dialog-title{\n            font-size: 22px;font-weight: 600;color: #000000;\n        }\n        .zipkinDialog{\n            font-size: 18px;font-weight: 600;color: #000000;\n            .content{\n                font-size: 16px;\n            }\n        }\n    }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/zipkin/dependence.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"depandence\"},[_c('div',{staticClass:\"button-group\"},[_c('span',{staticClass:\"route-name\"},[_vm._v(_vm._s(_vm.$route.meta.title))])]),_vm._v(\" \"),_c('div',{staticClass:\"header\"},[_c('el-form',{ref:\"dependenceform\",attrs:{\"model\":_vm.dependenceform,\"label-width\":\"82px\",\"label-position\":\"left\",\"size\":\"small\"}},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"xl\":8,\"lg\":12}},[_c('el-form-item',{attrs:{\"label\":\"时间范围：\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"datetimerange\",\"range-separator\":\"-\",\"start-placeholder\":_vm.$t('common.startDate'),\"end-placeholder\":_vm.$t('common.endDate')},model:{value:(_vm.dependenceform.dateTime),callback:function ($$v) {_vm.$set(_vm.dependenceform, \"dateTime\", $$v)},expression:\"dependenceform.dateTime\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"xl\":4,\"lg\":6}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.analysis}},[_vm._v(_vm._s(_vm.$t('zipkin.analyzeDependency')))])],1)],1)],1)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"main\"},[_c('div',{ref:\"zipEcharts\",staticClass:\"zipEcharts\"})]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible,\"width\":\"60%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('span',{staticClass:\"dialog-title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('span',[_vm._v(_vm._s(_vm.dialogData.serviceName))])]),_vm._v(\" \"),_c('div',{staticClass:\"zipkinDialog\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_vm._v(_vm._s(_vm.$t('zipkin.usedBy')))]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_vm._v(_vm._s(_vm.$t('zipkin.uses')))])],1),_vm._v(\" \"),_c('el-row',{staticClass:\"content\"},[_c('el-col',{attrs:{\"span\":12}},[(_vm.dialogData.usedBy.length === 0)?_c('el-button',{attrs:{\"type\":\"text\",\"disabled\":\"\"}},[_vm._v(_vm._s(_vm.$t('zipkin.empty')))]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.dialogData.usedBy),function(value){return _c('el-button',{key:value.id,attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.checkTable({\n                            'parent':value,\n                            'child':_vm.dialogData.serviceName\n                        })}}},[_vm._v(_vm._s(value))])})],2),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[(_vm.dialogData.uses.length === 0)?_c('el-button',{attrs:{\"type\":\"text\",\"disabled\":\"\"}},[_vm._v(_vm._s(_vm.$t('zipkin.empty')))]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.dialogData.uses),function(item){return _c('el-button',{key:item.id,attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.checkTable({\n                            'child':item,\n                            'parent':_vm.dialogData.serviceName\n                        })}}},[_vm._v(_vm._s(item))])})],2)],1)],1)]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.dialogTable,\"width\":\"60%\"},on:{\"update:visible\":function($event){_vm.dialogTable=$event}}},[_c('span',{staticClass:\"dialog-title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('span',[_vm._v(_vm._s(_vm.tableTitle))])]),_vm._v(\" \"),_c('el-table',{ref:\"multipleTable\",staticStyle:{\"width\":\"100%\",\"margin-top\":\"24px\"},attrs:{\"stripe\":\"\",\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"key\",\"label\":_vm.$t('zipkin.key')}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"value\",\"label\":_vm.$t('zipkin.value')}})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6c5fb453\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/zipkin/dependence.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6c5fb453\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./dependence.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./dependence.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./dependence.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6c5fb453\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./dependence.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6c5fb453\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/zipkin/dependence.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}