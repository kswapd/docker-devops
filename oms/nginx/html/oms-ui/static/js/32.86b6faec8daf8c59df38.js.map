{"version":3,"sources":["webpack:///src/components/host/host.vue","webpack:///./src/components/host/host.vue?0da3","webpack:///./src/components/host/host.vue"],"names":["host","data","currentPage","pageSize","hostVisible","hostForm","name","ip","oldIp","title","editForm","editFormRules","required","message","trigger","os","javaHome","cpuOptions","envGroups","text","value","computed","extends_default","Object","vuex_esm","hostList","state","created","this","searchHostData","methods","params","pageNo","limit","baseParam","getHostList","editHost","vm","moType","getIpValue","dialogSure","_ref","_this","reg","$refs","validate","asyncToGenerator_default","regenerator_default","a","mark","_callee","valid","wrap","_context","prev","next","moId","test","$message","type","abrupt","modifyHost","dialogCancel","addHost","t0","stop","_x","apply","arguments","clearValidate","deleteHost","props","_this2","$confirm","confirmButtonText","$t","cancelButtonText","center","then","_callee2","res","_context2","deleteHostAxios","sent","console","log","catch","handleCurrentChange","val","moniter","$router","push","query","row","id","host_host","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","$route","meta","attrs","size","icon","on","click","$event","ref","model","label-width","label-position","gutter","lg","xl","label","prop","callback","$$v","$set","trim","expression","stripe","align","width","scopedSlots","_u","key","fn","_f","memory","min-width","fixed","background","current-page","page-size","layout","total","current-change","update:currentPage","visible","update:visible","close","rules","maxlength","staticStyle","placeholder","_l","index","_n","slot","disabled","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/32.86b6faec8daf8c59df38.js","sourcesContent":["<template>\n  <div class=\"host-main\">\n    <div class=\"button-group\">\n      <span class=\"route-name\">{{$route.meta.title}}</span>\n      <el-button @click=\"editHost()\" type=\"warning\" size=\"small\" icon=\"el-icon-plus\">{{$t('common.add')}}</el-button>\n    </div>\n    <el-form :model=\"hostForm\" ref=\"hostForm\" label-width=\"70px\" label-position=\"right\" size=\"small\">\n      <el-row class=\"label-first\" :gutter=\"20\">\n        <el-col :lg=\"6\" :xl=\"4\">\n          <el-form-item :label=\"$t('host.hostName') + '：'\" prop=\"name\">\n            <el-input v-model.trim=\"hostForm.name\"></el-input>\n          </el-form-item>\n        </el-col>\n        <el-col :lg=\"6\" :xl=\"4\">\n          <el-form-item label=\"IP：\" prop=\"ip\">\n            <el-input v-model.trim=\"hostForm.ip\"></el-input>\n          </el-form-item>\n        </el-col>\n        <el-col :lg=\"6\" :xl=\"4\">\n          <el-button type=\"primary\" @click=\"searchHostData\" icon=\"el-icon-search\" size=\"small\">\n            {{$t('common.search')}}\n          </el-button>\n        </el-col>\n      </el-row>\n    </el-form>\n    <el-table :data=\"hostList.data\" stripe>\n      <el-table-column align=\"center\" prop=\"name\" :label=\"$t('host.hostName')\" width=\"150\">\n      </el-table-column>\n      <el-table-column prop=\"ip\" align=\"center\" :label=\"$t('host.IP')\" width=\"180\">\n      </el-table-column>\n      <el-table-column prop=\"core\" align=\"center\" :label=\"$t('host.cpu')\" width=\"100\">\n      </el-table-column>\n      <el-table-column align=\"center\" :label=\"$t('host.memory')\" width=\"100\">\n        <template slot-scope=\"props\">\n          {{props.row.memory | hostMemory}}\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"os\" align=\"center\" :label=\"$t('host.os')\" width=\"150\">\n      </el-table-column>\n      <el-table-column :label=\"$t('host.watch')\" width=\"100\" align=\"center\">\n        <template slot-scope=\"props\">\n          <el-button type=\"text\" size=\"small\" @click=\"moniter(props)\" icon=\"fa fa-bar-chart\"></el-button>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"remark\" align=\"center\" :label=\"$t('host.desc')\" min-width=\"100\">\n      </el-table-column>\n      <el-table-column :label=\"$t('common.operation')\" align=\"center\" fixed=\"right\" width=\"140\">\n        <template slot-scope=\"props\">\n          <el-button type=\"text\" size=\"mini\" icon=\"el-icon-edit\" @click=\"editHost(props.row)\">{{$t('common.modify')}}\n          </el-button>\n          <el-button type=\"text\" class=\"btn-text-red\" size=\"mini\" icon=\"el-icon-delete\" @click=\"deleteHost(props.row)\">{{ $t('common.delete')}}\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <!-- 分页器 -->\n    <el-pagination\n      background\n      @current-change=\"handleCurrentChange\"\n      :current-page.sync=\"currentPage\"\n      :page-size=\"pageSize\"\n      layout=\"total, prev, pager, next, jumper\"\n      :total=\"hostList.total\">\n    </el-pagination>\n    <!-- 修改弹出框 -->\n    <el-dialog :title=\"title\" :visible.sync=\"hostVisible\" width=\"35%\" @close=\"dialogCancel\" center>\n      <el-form :model=\"editForm\" :rules=\"editFormRules\" ref=\"editForm\" label-width=\"80px\" size=\"small\">\n        <el-form-item :label=\"$t('host.hostName')\" prop=\"name\">\n          <el-input v-model.trim=\"editForm.name\" maxlength=\"50\"></el-input>\n        </el-form-item>\n        <el-form-item :label=\"$t('host.IP')\" class=\"is-required\">\n          <gl-ip-input v-model=\"editForm.ip\" @getIpValue=\"getIpValue\"></gl-ip-input>\n        </el-form-item>\n        <el-form-item :label=\"$t('host.cpu')\">\n          <el-select v-model=\"editForm.core\" :placeholder=\"$t('common.select')\"  style=\"width:100%\">\n            <el-option v-for=\"(val, index) in cpuOptions\" :key=\"index\" :label=\"val\" :value=\"val\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item :label=\"$t('host.memory')\">\n          <el-input placeholder=\"请输入内存大小\" v-model.trim.number=\"editForm.memory\">\n            <template slot=\"append\">G</template>\n          </el-input>\n        </el-form-item>\n        <el-form-item :label=\"$t('host.os')\" prop=\"os\">\n          <el-input v-model=\"editForm.os\" disabled></el-input>\n        </el-form-item>\n        <el-form-item label=\"环境变量\" prop=\"javaHome\">\n          <el-input v-model.trim=\"editForm.javaHome\" maxlength=\"50\"></el-input>\n        </el-form-item>\n        <el-form-item :label=\"$t('host.desc')\">\n          <el-input type=\"textarea\" v-model.trim=\"editForm.remark\" maxlength=\"100\"></el-input>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"dialogSure\" size=\"small\">{{ $t('common.ok') }}</el-button>\n        <el-button @click=\"dialogCancel\" size=\"small\">{{ $t('common.cancel') }}</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'vuex'\n\nexport default {\n  data() {\n    return {\n      currentPage: 1,\n      pageSize: 10,\n      hostVisible: false,\n      hostForm: {\n        name: '',\n        ip: ''\n      },\n      oldIp: '',\n      title: '',\n      editForm: {},\n      editFormRules: {\n        name: [\n          { required: true, message: '请输入主机名', trigger: 'blur' }\n        ],\n        os: [\n          { required: true, message: '请输入环境变量', trigger: 'blur' }\n        ],\n        javaHome: [\n          { required: true, message: '请输入环境变量', trigger: 'blur' }\n        ]\n      },\n      cpuOptions: ['2', '4', '8', '16'],\n      envGroups: [\n        {\n          text: 'OMS内测环境',\n          value: 'OMS内测环境'\n        },\n        {\n          text: 'GZPOC',\n          value: 'GZPOC'\n        }\n      ]\n    }\n  },\n  computed: {\n    ...mapState({\n      hostList: state => state.host.hostList\n    })\n  },\n  created() {\n    this.searchHostData()\n  },\n  methods: {\n    ...mapActions('host', ['getHostList', 'modifyHost', 'addHost', 'deleteHostAxios']),\n    // 筛选搜索\n    searchHostData() {\n      const vm = this\n      const params = {\n        pageNo: vm.currentPage,\n        limit: vm.pageSize,\n        baseParam: vm.hostForm\n      }\n      vm.getHostList(params)\n    },\n    // 添加、修改主机\n    editHost(data) {\n      const vm = this\n      if (data) {\n        vm.title = '修改主机'\n        vm.oldIp = data.ip\n        vm.editForm = { ...data }\n        vm.hostVisible = true\n      } else {\n        vm.title = '添加主机'\n        vm.editForm = {\n          moType: 'Host',\n          os: 'Linux'\n        }\n        vm.hostVisible = true\n      }\n    },\n    // 获取ip value\n    getIpValue(data) {\n      const vm = this\n      vm.editForm.ip = data\n    },\n    // 修改主机确认\n    dialogSure() {\n      const vm = this\n      let reg = /^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])$/\n      vm.$refs['editForm'].validate(async valid => {\n        if (valid) {\n          if (vm.editForm.moId) {\n            if (!reg.test(vm.editForm.ip)) {\n              vm.$message({\n                type: 'warning',\n                message: '请输入正确的ip地址'\n              })\n              return false\n            }\n            vm.modifyHost([vm.oldIp, vm.editForm, () => {\n              vm.$message({\n                type: 'success',\n                message: '修改成功'\n              })\n              vm.dialogCancel()\n              vm.searchHostData()\n            }])\n          } else {\n            try {\n              if (!reg.test(vm.editForm.ip)) {\n                vm.$message({\n                  type: 'warning',\n                  message: '请输入正确的ip地址'\n                })\n                return false\n              }\n              await vm.addHost(vm.editForm)\n              vm.$message({\n                type: 'success',\n                message: '添加成功'\n              })\n              vm.dialogCancel()\n              vm.searchHostData()\n            } catch (error) {\n              vm.$message({\n                type: 'error',\n                message: (error.data && error.data.message) || '添加失败'\n              })\n            }\n          }\n        } else {\n          vm.$message({\n            type: 'warning',\n            message: '带*是必输项'\n          })\n        }\n      })\n    },\n    dialogCancel() {\n      this.hostVisible = false\n      this.$refs['editForm'].clearValidate()\n    },\n    // 删除主机\n    deleteHost(props) {\n      const vm = this\n      vm.$confirm(`是否确认删除主机${props.name}？`, '删除', {\n        confirmButtonText: vm.$t('common.ok'),\n        cancelButtonText: vm.$t('common.cancel'),\n        type: 'warning',\n        center: true\n      }).then(async () => {\n        try {\n          const res = await vm.deleteHostAxios({moId: props.moId})\n          console.log(res)\n          vm.$message({\n            type: 'success',\n            message: '删除成功！'\n          })\n          vm.searchHostData()\n        } catch (error) {\n          vm.$message({\n            type: 'success',\n            message: (error.data && error.data.message) || '删除失败'\n          })\n        }\n      }).catch(() => {\n      })\n    },\n    handleCurrentChange(val) {\n      this.currentPage = val\n      this.searchHostData()\n    },\n    // 监控\n    moniter(props) {\n      this.$router.push({name: 'hostEcharts', query: {ip: props.row.ip}, params: {'id': props.row.ip}})\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../../assets/common\";\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/host/host.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"host-main\"},[_c('div',{staticClass:\"button-group\"},[_c('span',{staticClass:\"route-name\"},[_vm._v(_vm._s(_vm.$route.meta.title))]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"warning\",\"size\":\"small\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){_vm.editHost()}}},[_vm._v(_vm._s(_vm.$t('common.add')))])],1),_vm._v(\" \"),_c('el-form',{ref:\"hostForm\",attrs:{\"model\":_vm.hostForm,\"label-width\":\"70px\",\"label-position\":\"right\",\"size\":\"small\"}},[_c('el-row',{staticClass:\"label-first\",attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"lg\":6,\"xl\":4}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('host.hostName') + '：',\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.hostForm.name),callback:function ($$v) {_vm.$set(_vm.hostForm, \"name\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"hostForm.name\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"lg\":6,\"xl\":4}},[_c('el-form-item',{attrs:{\"label\":\"IP：\",\"prop\":\"ip\"}},[_c('el-input',{model:{value:(_vm.hostForm.ip),callback:function ($$v) {_vm.$set(_vm.hostForm, \"ip\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"hostForm.ip\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"lg\":6,\"xl\":4}},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\",\"size\":\"small\"},on:{\"click\":_vm.searchHostData}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('common.search'))+\"\\n        \")])],1)],1)],1),_vm._v(\" \"),_c('el-table',{attrs:{\"data\":_vm.hostList.data,\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"name\",\"label\":_vm.$t('host.hostName'),\"width\":\"150\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ip\",\"align\":\"center\",\"label\":_vm.$t('host.IP'),\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"core\",\"align\":\"center\",\"label\":_vm.$t('host.cpu'),\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":_vm.$t('host.memory'),\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_vm._v(\"\\n        \"+_vm._s(_vm._f(\"hostMemory\")(props.row.memory))+\"\\n      \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"os\",\"align\":\"center\",\"label\":_vm.$t('host.os'),\"width\":\"150\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":_vm.$t('host.watch'),\"width\":\"100\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\",\"icon\":\"fa fa-bar-chart\"},on:{\"click\":function($event){_vm.moniter(props)}}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"remark\",\"align\":\"center\",\"label\":_vm.$t('host.desc'),\"min-width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":_vm.$t('common.operation'),\"align\":\"center\",\"fixed\":\"right\",\"width\":\"140\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){_vm.editHost(props.row)}}},[_vm._v(_vm._s(_vm.$t('common.modify'))+\"\\n        \")]),_vm._v(\" \"),_c('el-button',{staticClass:\"btn-text-red\",attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){_vm.deleteHost(props.row)}}},[_vm._v(_vm._s(_vm.$t('common.delete'))+\"\\n        \")])]}}])})],1),_vm._v(\" \"),_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"layout\":\"total, prev, pager, next, jumper\",\"total\":_vm.hostList.total},on:{\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.currentPage=$event}}}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.title,\"visible\":_vm.hostVisible,\"width\":\"35%\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.hostVisible=$event},\"close\":_vm.dialogCancel}},[_c('el-form',{ref:\"editForm\",attrs:{\"model\":_vm.editForm,\"rules\":_vm.editFormRules,\"label-width\":\"80px\",\"size\":\"small\"}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('host.hostName'),\"prop\":\"name\"}},[_c('el-input',{attrs:{\"maxlength\":\"50\"},model:{value:(_vm.editForm.name),callback:function ($$v) {_vm.$set(_vm.editForm, \"name\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"editForm.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"is-required\",attrs:{\"label\":_vm.$t('host.IP')}},[_c('gl-ip-input',{on:{\"getIpValue\":_vm.getIpValue},model:{value:(_vm.editForm.ip),callback:function ($$v) {_vm.$set(_vm.editForm, \"ip\", $$v)},expression:\"editForm.ip\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":_vm.$t('host.cpu')}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":_vm.$t('common.select')},model:{value:(_vm.editForm.core),callback:function ($$v) {_vm.$set(_vm.editForm, \"core\", $$v)},expression:\"editForm.core\"}},_vm._l((_vm.cpuOptions),function(val,index){return _c('el-option',{key:index,attrs:{\"label\":val,\"value\":val}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":_vm.$t('host.memory')}},[_c('el-input',{attrs:{\"placeholder\":\"请输入内存大小\"},model:{value:(_vm.editForm.memory),callback:function ($$v) {_vm.$set(_vm.editForm, \"memory\", _vm._n((typeof $$v === 'string'? $$v.trim(): $$v)))},expression:\"editForm.memory\"}},[_c('template',{slot:\"append\"},[_vm._v(\"G\")])],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":_vm.$t('host.os'),\"prop\":\"os\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.editForm.os),callback:function ($$v) {_vm.$set(_vm.editForm, \"os\", $$v)},expression:\"editForm.os\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"环境变量\",\"prop\":\"javaHome\"}},[_c('el-input',{attrs:{\"maxlength\":\"50\"},model:{value:(_vm.editForm.javaHome),callback:function ($$v) {_vm.$set(_vm.editForm, \"javaHome\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"editForm.javaHome\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":_vm.$t('host.desc')}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"maxlength\":\"100\"},model:{value:(_vm.editForm.remark),callback:function ($$v) {_vm.$set(_vm.editForm, \"remark\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"editForm.remark\"}})],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.dialogSure}},[_vm._v(_vm._s(_vm.$t('common.ok')))]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.dialogCancel}},[_vm._v(_vm._s(_vm.$t('common.cancel')))])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-55ba275d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/host/host.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-55ba275d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./host.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./host.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./host.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-55ba275d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./host.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-55ba275d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/host/host.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}